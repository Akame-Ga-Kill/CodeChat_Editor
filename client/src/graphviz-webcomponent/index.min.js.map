{"version":3,"file":"index.min.js","sources":["../src/separate-engine.js","../src/script-editor.js","../src/graph.js","../src/prism/prism-core.js","../src/prism/prism-line-numbers.js","../src/prism/prism-match-braces.js","../src/prism/prism-graphviz.js","../src/codejar/codejar.js"],"sourcesContent":["const { delayWorkerLoading } = window.graphvizWebComponent || {}\r\nlet renderer, rendererUrl\r\n\r\nif (!delayWorkerLoading) setTimeout(getRenderer)\r\n\r\nfunction ensureConfiguration () {\r\n  if (!rendererUrl) {\r\n    ({\r\n      rendererUrl = 'https://unpkg.com/graphviz-webcomponent@1.1.0/dist/renderer.min.js'\r\n    } = window.graphvizWebComponent || {})\r\n  }\r\n}\r\n\r\nexport default function getRenderer () {\r\n  if (!renderer) {\r\n    ensureConfiguration()\r\n    renderer = new Worker(rendererUrl)\r\n  }\r\n  return renderer\r\n}\r\n","import { CodeJar } from './codejar/codejar'\r\nimport Prism from './prism/prism-core'\r\nimport lightTheme from './prism/prism-light.css'\r\nimport lineNumbersStyle from './prism/prism-line-numbers.css'\r\nimport matchBracesStyle from './prism/prism-match-braces.css'\r\nimport mainStyle from './script-editor.css'\r\nimport './prism/prism-line-numbers'\r\nimport './prism/prism-match-braces'\r\nimport './prism/prism-graphviz'\r\n\r\nconst features = ['line-numbers', 'match-braces', 'rainbow-braces']\r\nconst connectedKey = Symbol('connecte')\r\nconst valueKey = Symbol('value')\r\nconst tabKey = Symbol('tab')\r\nconst classKey = Symbol('class')\r\nconst jarKey = Symbol('jar')\r\nconst widthKey = Symbol('width')\r\nconst heightKey = Symbol('height')\r\nconst mousedownKey = Symbol('mousedown')\r\nconst mouseupKey = Symbol('mouseup')\r\nlet template, pendingAllLineNumbersUpdate\r\n\r\nPrism.codeTag = 'div'\r\n\r\nfunction getTemplate () {\r\n  if (!template) {\r\n    template = document.createElement('template')\r\n    template.innerHTML = `<style>\r\n${lightTheme}\r\n${lineNumbersStyle}\r\n${matchBracesStyle}\r\n${mainStyle}\r\n</style>\r\n<pre id=source-wrapper><div id=source></div></pre>`\r\n  }\r\n  return template\r\n}\r\n\r\nfunction triggerEvent (element, type, detail) {\r\n  element.dispatchEvent(new CustomEvent(type, { detail }))\r\n}\r\n\r\nfunction getFeatureClasses (element) {\r\n  return element.className\r\n    .trim()\r\n    .split(/\\s+/)\r\n    .filter(feature => features.includes(feature))\r\n    .join(' ')\r\n}\r\n\r\nfunction hasChangedFeatureClass (oldValue, newValue) {\r\n  const oldClasses = oldValue ? oldValue.trim().split(/\\s+/) : []\r\n  const newClasses = newValue.trim().split(/\\s+/)\r\n  return features.some(feature =>\r\n    oldClasses.includes(feature) !== newClasses.includes(feature))\r\n}\r\n\r\nfunction normalizeLineBreaks (value) {\r\n  return value.replace(/\\r?\\n/, '\\n')\r\n}\r\n\r\nfunction createEditor (element) {\r\n  const ownerRoot = element.shadowRoot\r\n  const source = ownerRoot.getElementById('source')\r\n  const featureClasses = getFeatureClasses(element)\r\n  source.className = `language-graphviz ${featureClasses}`\r\n  const jar = element[jarKey] = CodeJar(source, Prism.highlightElement, { tab: element.tab, ownerRoot })\r\n  updateEditor(element)\r\n  jar.onUpdate(newCode => {\r\n    newCode = normalizeLineBreaks(newCode)\r\n    if (element.value !== newCode) {\r\n      element[valueKey] = newCode\r\n      triggerEvent(element, 'input', newCode)\r\n    }\r\n  })\r\n}\r\n\r\nfunction destroyEditor (element) {\r\n  element[jarKey].destroy()\r\n  element[jarKey] = null\r\n}\r\n\r\nfunction rebuildEditor (element) {\r\n  destroyEditor(element)\r\n  createEditor(element)\r\n}\r\n\r\nfunction updateEditor (element) {\r\n  element[jarKey].updateCode(element.value)\r\n}\r\n\r\nfunction configureEditor (element) {\r\n  element[jarKey].updateOptions({ tab: element.tab })\r\n}\r\n\r\nclass GraphvizScriptEditorElement extends HTMLElement {\r\n  constructor () {\r\n    super()\r\n    this[valueKey] = ''\r\n    this[tabKey] = '  '\r\n    this[classKey] = ''\r\n    this.attachShadow({ mode: 'open' })\r\n    this.shadowRoot.appendChild(getTemplate().content.cloneNode(true))\r\n  }\r\n\r\n  get value () { return this[valueKey] }\r\n  set value (value) { this.setAttribute('value', value) }\r\n\r\n  get tab () { return this[tabKey] }\r\n  set tab (value) { this.setAttribute('tab', value) }\r\n\r\n  get className () { return this[classKey] }\r\n  set className (value) { this.setAttribute('class', value) }\r\n\r\n  attributeChangedCallback (name, oldValue, newValue) {\r\n    switch (name) {\r\n      case 'value':\r\n        this[valueKey] = normalizeLineBreaks(newValue)\r\n        if (this[connectedKey]) updateEditor(this)\r\n        break\r\n      case 'tab':\r\n        this[tabKey] = newValue\r\n        if (this[connectedKey]) configureEditor(this)\r\n        break\r\n      case 'class':\r\n        this[classKey] = newValue\r\n        if (this[connectedKey] && hasChangedFeatureClass(oldValue, newValue)) rebuildEditor(this)\r\n        break\r\n    }\r\n  }\r\n\r\n  connectedCallback () {\r\n    registerEvents(this)\r\n    createEditor(this)\r\n    this[connectedKey] = true\r\n  }\r\n\r\n  disconnectedCallback () {\r\n    destroyEditor(this)\r\n    unregisterEvents(this)\r\n    this[connectedKey] = false\r\n  }\r\n\r\n  static get observedAttributes () { return ['value', 'tab', 'class'] }\r\n}\r\n\r\nfunction rememberSize (element) {\r\n  element[widthKey] = element.clientWidth\r\n  element[heightKey] = element.clientHeight\r\n}\r\n\r\nfunction updateLineNumbers (element) {\r\n  const newWidth = element.clientWidth\r\n  const newHeight = element.clientHeight\r\n  if (newWidth !== element[widthKey] || newHeight !== element[heightKey]) {\r\n    Prism.plugins.lineNumbers.updateLineNumbers(element.shadowRoot.getElementById('source-wrapper'))\r\n    element[widthKey] = newWidth\r\n    element[heightKey] = newHeight\r\n  }\r\n}\r\n\r\nfunction registerEvents (element) {\r\n  const mousedown = element[mousedownKey] = () => rememberSize(element)\r\n  const mouseup = element[mouseupKey] = () => updateLineNumbers(element)\r\n  element.addEventListener('mousedown', mousedown)\r\n  element.addEventListener('mouseup', mouseup)\r\n}\r\n\r\nfunction unregisterEvents (element) {\r\n  element.removeEventListener('mouseup', element[mouseupKey])\r\n  element.removeEventListener('mousedown', element[mousedownKey])\r\n}\r\n\r\nfunction updateAllLineNumbers () {\r\n  clearTimeout(pendingAllLineNumbersUpdate)\r\n  const editors = document.querySelectorAll('graphviz-script-editor.line-numbers')\r\n  for (const editor of editors) updateLineNumbers(editor)\r\n}\r\n\r\nfunction scheduleUpdateAllLineNumbers () {\r\n  if (pendingAllLineNumbersUpdate) clearTimeout(pendingAllLineNumbersUpdate)\r\n  pendingAllLineNumbersUpdate = setTimeout(updateAllLineNumbers, 300)\r\n}\r\n\r\naddEventListener('resize', scheduleUpdateAllLineNumbers)\r\n\r\ncustomElements.define('graphviz-script-editor', GraphvizScriptEditorElement)\r\n\r\nexport default GraphvizScriptEditorElement\r\n","import getRenderer from \"./separate-engine\";\r\n\r\nconst graphKey = Symbol(\"graph\");\r\nconst scaleKey = Symbol(\"scale\");\r\n// Use this to assign a unique ID to each render.\r\nlet render_id = Number.MIN_SAFE_INTEGER;\r\n\r\nfunction requestRendering(element, script, receiveResult) {\r\n  const renderer = getRenderer();\r\n  renderer.addEventListener(\"message\", receiveResult);\r\n  renderer.postMessage({ script: script || element.graph, render_id });\r\n  return render_id++;\r\n}\r\n\r\nfunction closeRendering(receiveResult) {\r\n  const renderer = getRenderer();\r\n  renderer.removeEventListener(\"message\", receiveResult);\r\n}\r\n\r\nfunction triggerEvent(element, type, detail) {\r\n  element.dispatchEvent(new CustomEvent(type, { detail }));\r\n}\r\n\r\nfunction applyScale(element) {\r\n  const svg = element.shadowRoot.children[0];\r\n  const scale = element.scale;\r\n  if (svg) {\r\n    if (scale) {\r\n      svg.style.transform = `scale(${scale})`;\r\n      svg.style.transformOrigin = \"top left\";\r\n    } else {\r\n      svg.style.transform = \"\";\r\n      svg.style.transformOrigin = \"\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction showImage(element, svg) {\r\n  element.shadowRoot.innerHTML = svg;\r\n  applyScale(element);\r\n  triggerEvent(element, \"render\", svg);\r\n}\r\n\r\nfunction showError(element, error) {\r\n  console.error(\"Graphviz failed:\", error);\r\n  element.shadowRoot.innerHTML = error.message;\r\n  return triggerEvent(element, \"error\", error);\r\n}\r\n\r\nfunction updateGraph(element) {\r\n  return new Promise((resolve) => {\r\n    element.shadowRoot.innerHTML = \"\";\r\n    if (!element.graph) return resolve();\r\n    const assigned_render_id = requestRendering(\r\n      element,\r\n      undefined,\r\n      receiveResult\r\n    );\r\n\r\n    function receiveResult({ data }) {\r\n      const { svg, error, render_id } = data;\r\n      if (assigned_render_id !== render_id) {\r\n        // This render was for a different request. Ignore it.\r\n        return;\r\n      }\r\n      closeRendering(receiveResult);\r\n      if (error) {\r\n        error.message = error.message.trim();\r\n        showError(element, error);\r\n        return resolve(error);\r\n      }\r\n      showImage(element, svg);\r\n      resolve(svg);\r\n    }\r\n  });\r\n}\r\n\r\nfunction tryUpdateGraph(element, script) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!script) {\r\n      element[graphKey] = \"\";\r\n      element.shadowRoot.innerHTML = \"\";\r\n      return resolve();\r\n    }\r\n    const assigned_render_id = requestRendering(element, script, receiveResult);\r\n\r\n    function receiveResult({ data }) {\r\n      const { svg, error, render_id } = data;\r\n      if (assigned_render_id !== render_id) {\r\n        // This render was for a different request. Ignore it.\r\n        return;\r\n      }\r\n      closeRendering(receiveResult);\r\n      if (error) return reject(error);\r\n      element[graphKey] = script;\r\n      showImage(element, svg);\r\n      resolve(svg);\r\n    }\r\n  });\r\n}\r\n\r\nclass GraphvizGraphElement extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: \"open\" });\r\n    this.graphCompleted = Promise.resolve();\r\n  }\r\n\r\n  get graph() {\r\n    return this[graphKey];\r\n  }\r\n  set graph(value) {\r\n    this.setAttribute(\"graph\", value);\r\n  }\r\n\r\n  get scale() {\r\n    return this[scaleKey];\r\n  }\r\n  set scale(value) {\r\n    this.setAttribute(\"scale\", value);\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    switch (name) {\r\n      case \"graph\":\r\n        this[graphKey] = newValue;\r\n        this.graphCompleted = updateGraph(this).catch((error) => error);\r\n        break;\r\n      case \"scale\":\r\n        this[scaleKey] = newValue;\r\n        applyScale(this);\r\n    }\r\n  }\r\n\r\n  tryGraph(graph) {\r\n    const promise = tryUpdateGraph(this, graph);\r\n    this.graphCompleted = promise.catch((error) => error);\r\n    return promise;\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return [\"graph\", \"scale\"];\r\n  }\r\n}\r\n\r\ncustomElements.define(\"graphviz-graph\", GraphvizGraphElement);\r\n\r\nexport default GraphvizGraphElement;\r\n","/**\r\n * Prism: Lightweight, robust, elegant syntax highlighting\r\n * MIT license http://www.opensource.org/licenses/mit-license.php/\r\n * @author Lea Verou http://lea.verou.me\r\n */\r\n\r\n// Private helper vars\r\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\r\nvar uniqueId = 0;\r\n\r\nvar _\r\nexport default _ = {\r\n\tcodeTag: 'code',\r\n\r\n\tutil: {\r\n\t\tencode: function encode(tokens) {\r\n\t\t\tif (tokens instanceof Token) {\r\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\r\n\t\t\t} else if (Array.isArray(tokens)) {\r\n\t\t\t\treturn tokens.map(encode);\r\n\t\t\t} else {\r\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttype: function (o) {\r\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\r\n\t\t},\r\n\r\n\t\tobjId: function (obj) {\r\n\t\t\tif (!obj['__id']) {\r\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\r\n\t\t\t}\r\n\t\t\treturn obj['__id'];\r\n\t\t},\r\n\r\n\t\t// Deep clone a language definition (e.g. to extend it)\r\n\t\tclone: function deepClone(o, visited) {\r\n\t\t\tvar clone, id, type = _.util.type(o);\r\n\t\t\tvisited = visited || {};\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'Object':\r\n\t\t\t\t\tid = _.util.objId(o);\r\n\t\t\t\t\tif (visited[id]) {\r\n\t\t\t\t\t\treturn visited[id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclone = {};\r\n\t\t\t\t\tvisited[id] = clone;\r\n\r\n\t\t\t\t\tfor (var key in o) {\r\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn clone;\r\n\r\n\t\t\t\tcase 'Array':\r\n\t\t\t\t\tid = _.util.objId(o);\r\n\t\t\t\t\tif (visited[id]) {\r\n\t\t\t\t\t\treturn visited[id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclone = [];\r\n\t\t\t\t\tvisited[id] = clone;\r\n\r\n\t\t\t\t\to.forEach(function (v, i) {\r\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn clone;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn o;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\r\n\t\t *\r\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\r\n\t\t *\r\n\t\t * @param {Element} element\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tgetLanguage: function (element) {\r\n\t\t\twhile (element && !lang.test(element.className)) {\r\n\t\t\t\telement = element.parentElement;\r\n\t\t\t}\r\n\t\t\tif (element) {\r\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\r\n\t\t\t}\r\n\t\t\treturn 'none';\r\n\t\t}\r\n\t},\r\n\r\n\tlanguages: {\r\n\t\textend: function (id, redef) {\r\n\t\t\tvar lang = _.util.clone(_.languages[id]);\r\n\r\n\t\t\tfor (var key in redef) {\r\n\t\t\t\tlang[key] = redef[key];\r\n\t\t\t}\r\n\r\n\t\t\treturn lang;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Insert a token before another token in a language literal\r\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\r\n\t\t * we cannot just provide an object, we need an object and a key.\r\n\t\t * @param inside The key (or language id) of the parent\r\n\t\t * @param before The key to insert before.\r\n\t\t * @param insert Object with the key/value pairs to insert\r\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\r\n\t\t */\r\n\t\tinsertBefore: function (inside, before, insert, root) {\r\n\t\t\troot = root || _.languages;\r\n\t\t\tvar grammar = root[inside];\r\n\t\t\tvar ret = {};\r\n\r\n\t\t\tfor (var token in grammar) {\r\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\r\n\r\n\t\t\t\t\tif (token == before) {\r\n\t\t\t\t\t\tfor (var newToken in insert) {\r\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\r\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\r\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\r\n\t\t\t\t\t\tret[token] = grammar[token];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar old = root[inside];\r\n\t\t\troot[inside] = ret;\r\n\r\n\t\t\t// Update references in other language definitions\r\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\r\n\t\t\t\tif (value === old && key != inside) {\r\n\t\t\t\t\tthis[key] = ret;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t// Traverse a language definition with Depth First Search\r\n\t\tDFS: function DFS(o, callback, type, visited) {\r\n\t\t\tvisited = visited || {};\r\n\r\n\t\t\tvar objId = _.util.objId;\r\n\r\n\t\t\tfor (var i in o) {\r\n\t\t\t\tif (o.hasOwnProperty(i)) {\r\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\r\n\r\n\t\t\t\t\tvar property = o[i],\r\n\t\t\t\t\t    propertyType = _.util.type(property);\r\n\r\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\r\n\t\t\t\t\t\tvisited[objId(property)] = true;\r\n\t\t\t\t\t\tDFS(property, callback, null, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\r\n\t\t\t\t\t\tvisited[objId(property)] = true;\r\n\t\t\t\t\t\tDFS(property, callback, i, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tplugins: {},\r\n\r\n\thighlightElement: function(element, callback) {\r\n\t\t// Find language\r\n\t\tvar language = _.util.getLanguage(element);\r\n\t\tvar grammar = _.languages[language];\r\n\r\n\t\t// Set language on the element, if not present\r\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\r\n\t\t// Set language on the parent, for styling\r\n\t\tvar parent = element.parentNode;\r\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\r\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\t\t}\r\n\r\n\t\tvar code = element.textContent;\r\n\r\n\t\tvar env = {\r\n\t\t\telement: element,\r\n\t\t\tlanguage: language,\r\n\t\t\tgrammar: grammar,\r\n\t\t\tcode: code\r\n\t\t};\r\n\r\n\t\tfunction insertHighlightedCode(highlightedCode) {\r\n\t\t\tenv.highlightedCode = highlightedCode;\r\n\r\n\t\t\t_.hooks.run('before-insert', env);\r\n\r\n\t\t\tenv.element.innerHTML = env.highlightedCode;\r\n\r\n\t\t\t_.hooks.run('after-highlight', env);\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t\tcallback && callback.call(env.element);\r\n\t\t}\r\n\r\n\t\t_.hooks.run('before-sanity-check', env);\r\n\r\n\t\tif (!env.code) {\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t\tcallback && callback.call(env.element);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t_.hooks.run('before-highlight', env);\r\n\r\n\t\tif (!env.grammar) {\r\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\r\n\t},\r\n\r\n\thighlight: function (text, grammar, language) {\r\n\t\tvar env = {\r\n\t\t\tcode: text,\r\n\t\t\tgrammar: grammar,\r\n\t\t\tlanguage: language\r\n\t\t};\r\n\t\t_.hooks.run('before-tokenize', env);\r\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\r\n\t\t_.hooks.run('after-tokenize', env);\r\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\r\n\t},\r\n\r\n\ttokenize: function(text, grammar) {\r\n\t\tvar rest = grammar.rest;\r\n\t\tif (rest) {\r\n\t\t\tfor (var token in rest) {\r\n\t\t\t\tgrammar[token] = rest[token];\r\n\t\t\t}\r\n\r\n\t\t\tdelete grammar.rest;\r\n\t\t}\r\n\r\n\t\tvar tokenList = new LinkedList();\r\n\t\taddAfter(tokenList, tokenList.head, text);\r\n\r\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\r\n\r\n\t\treturn toArray(tokenList);\r\n\t},\r\n\r\n\thooks: {\r\n\t\tall: {},\r\n\r\n\t\tadd: function (name, callback) {\r\n\t\t\tvar hooks = _.hooks.all;\r\n\r\n\t\t\thooks[name] = hooks[name] || [];\r\n\r\n\t\t\thooks[name].push(callback);\r\n\t\t},\r\n\r\n\t\trun: function (name, env) {\r\n\t\t\tvar callbacks = _.hooks.all[name];\r\n\r\n\t\t\tif (!callbacks || !callbacks.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\r\n\t\t\t\tcallback(env);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tToken: Token\r\n};\r\n\r\nfunction Token(type, content, alias, matchedStr, greedy) {\r\n\tthis.type = type;\r\n\tthis.content = content;\r\n\tthis.alias = alias;\r\n\t// Copy of the full string this token was created from\r\n\tthis.length = (matchedStr || '').length|0;\r\n\tthis.greedy = !!greedy;\r\n}\r\n\r\nToken.stringify = function stringify(o, language) {\r\n\tif (typeof o == 'string') {\r\n\t\treturn o;\r\n\t}\r\n\tif (Array.isArray(o)) {\r\n\t\tvar s = '';\r\n\t\to.forEach(function (e) {\r\n\t\t\ts += stringify(e, language);\r\n\t\t});\r\n\t\treturn s;\r\n\t}\r\n\r\n\tvar env = {\r\n\t\ttype: o.type,\r\n\t\tcontent: stringify(o.content, language),\r\n\t\ttag: 'span',\r\n\t\tclasses: ['token', o.type],\r\n\t\tattributes: {},\r\n\t\tlanguage: language\r\n\t};\r\n\r\n\tvar aliases = o.alias;\r\n\tif (aliases) {\r\n\t\tif (Array.isArray(aliases)) {\r\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\r\n\t\t} else {\r\n\t\t\tenv.classes.push(aliases);\r\n\t\t}\r\n\t}\r\n\r\n\t_.hooks.run('wrap', env);\r\n\r\n\tvar attributes = '';\r\n\tfor (var name in env.attributes) {\r\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\r\n\t}\r\n\r\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\r\n};\r\n\r\n/**\r\n * @param {string} text\r\n * @param {LinkedList<string | Token>} tokenList\r\n * @param {any} grammar\r\n * @param {LinkedListNode<string | Token>} startNode\r\n * @param {number} startPos\r\n * @param {boolean} [oneshot=false]\r\n * @param {string} [target]\r\n */\r\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, oneshot, target) {\r\n\tfor (var token in grammar) {\r\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tvar patterns = grammar[token];\r\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\r\n\r\n\t\tfor (var j = 0; j < patterns.length; ++j) {\r\n\t\t\tif (target && target == token + ',' + j) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar pattern = patterns[j],\r\n\t\t\t\tinside = pattern.inside,\r\n\t\t\t\tlookbehind = !!pattern.lookbehind,\r\n\t\t\t\tgreedy = !!pattern.greedy,\r\n\t\t\t\tlookbehindLength = 0,\r\n\t\t\t\talias = pattern.alias;\r\n\r\n\t\t\tif (greedy && !pattern.pattern.global) {\r\n\t\t\t\t// Without the global flag, lastIndex won't work\r\n\t\t\t\tvar flags = pattern.pattern.toString().match(/[imsuy]*$/)[0];\r\n\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + 'g');\r\n\t\t\t}\r\n\r\n\t\t\tpattern = pattern.pattern || pattern;\r\n\r\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\r\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\r\n\t\t\t\tcurrentNode !== tokenList.tail;\r\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\r\n\t\t\t) {\r\n\r\n\t\t\t\tvar str = currentNode.value;\r\n\r\n\t\t\t\tif (tokenList.length > text.length) {\r\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (str instanceof Token) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\r\n\r\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\r\n\t\t\t\t\tpattern.lastIndex = pos;\r\n\t\t\t\t\tvar match = pattern.exec(text);\r\n\t\t\t\t\tif (!match) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\r\n\t\t\t\t\tvar to = match.index + match[0].length;\r\n\t\t\t\t\tvar p = pos;\r\n\r\n\t\t\t\t\t// find the node that contains the match\r\n\t\t\t\t\tp += currentNode.value.length;\r\n\t\t\t\t\twhile (from >= p) {\r\n\t\t\t\t\t\tcurrentNode = currentNode.next;\r\n\t\t\t\t\t\tp += currentNode.value.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// adjust pos (and p)\r\n\t\t\t\t\tp -= currentNode.value.length;\r\n\t\t\t\t\tpos = p;\r\n\r\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\r\n\t\t\t\t\tif (currentNode.value instanceof Token) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find the last node which is affected by this match\r\n\t\t\t\t\tfor (\r\n\t\t\t\t\t\tvar k = currentNode;\r\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || (typeof k.value === 'string' && !k.prev.value.greedy));\r\n\t\t\t\t\t\tk = k.next\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tremoveCount++;\r\n\t\t\t\t\t\tp += k.value.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tremoveCount--;\r\n\r\n\t\t\t\t\t// replace with the new match\r\n\t\t\t\t\tstr = text.slice(pos, p);\r\n\t\t\t\t\tmatch.index -= pos;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpattern.lastIndex = 0;\r\n\r\n\t\t\t\t\tvar match = pattern.exec(str);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!match) {\r\n\t\t\t\t\tif (oneshot) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lookbehind) {\r\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar from = match.index + lookbehindLength,\r\n\t\t\t\t\tmatch = match[0].slice(lookbehindLength),\r\n\t\t\t\t\tto = from + match.length,\r\n\t\t\t\t\tbefore = str.slice(0, from),\r\n\t\t\t\t\tafter = str.slice(to);\r\n\r\n\t\t\t\tvar removeFrom = currentNode.prev;\r\n\r\n\t\t\t\tif (before) {\r\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\r\n\t\t\t\t\tpos += before.length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\r\n\r\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias, match, greedy);\r\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\r\n\r\n\t\t\t\tif (after) {\r\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (removeCount > 1)\r\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, true, token + ',' + j);\r\n\r\n\t\t\t\tif (oneshot)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef LinkedListNode\r\n * @property {T} value\r\n * @property {LinkedListNode<T> | null} prev The previous node.\r\n * @property {LinkedListNode<T> | null} next The next node.\r\n * @template T\r\n */\r\n\r\n/**\r\n * @template T\r\n */\r\nfunction LinkedList() {\r\n\t/** @type {LinkedListNode<T>} */\r\n\tvar head = { value: null, prev: null, next: null };\r\n\t/** @type {LinkedListNode<T>} */\r\n\tvar tail = { value: null, prev: head, next: null };\r\n\thead.next = tail;\r\n\r\n\t/** @type {LinkedListNode<T>} */\r\n\tthis.head = head;\r\n\t/** @type {LinkedListNode<T>} */\r\n\tthis.tail = tail;\r\n\tthis.length = 0;\r\n}\r\n\r\n/**\r\n * Adds a new node with the given value to the list.\r\n * @param {LinkedList<T>} list\r\n * @param {LinkedListNode<T>} node\r\n * @param {T} value\r\n * @returns {LinkedListNode<T>} The added node.\r\n * @template T\r\n */\r\nfunction addAfter(list, node, value) {\r\n\t// assumes that node != list.tail && values.length >= 0\r\n\tvar next = node.next;\r\n\r\n\tvar newNode = { value: value, prev: node, next: next };\r\n\tnode.next = newNode;\r\n\tnext.prev = newNode;\r\n\tlist.length++;\r\n\r\n\treturn newNode;\r\n}\r\n/**\r\n * Removes `count` nodes after the given node. The given node will not be removed.\r\n * @param {LinkedList<T>} list\r\n * @param {LinkedListNode<T>} node\r\n * @param {number} count\r\n * @template T\r\n */\r\nfunction removeRange(list, node, count) {\r\n\tvar next = node.next;\r\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\r\n\t\tnext = next.next;\r\n\t}\r\n\tnode.next = next;\r\n\tnext.prev = node;\r\n\tlist.length -= i;\r\n}\r\n/**\r\n * @param {LinkedList<T>} list\r\n * @returns {T[]}\r\n * @template T\r\n */\r\nfunction toArray(list) {\r\n\tvar array = [];\r\n\tvar node = list.head.next;\r\n\twhile (node !== list.tail) {\r\n\t\tarray.push(node.value);\r\n\t\tnode = node.next;\r\n\t}\r\n\treturn array;\r\n}\r\n","import Prism from './prism-core'\r\n\r\n/**\r\n * Plugin name which is used as a class name for <pre> which is activating the plugin\r\n * @type {String}\r\n */\r\nvar PLUGIN_NAME = 'line-numbers';\r\n\r\n/**\r\n * Regular expression used for determining line breaks\r\n * @type {RegExp}\r\n */\r\nvar NEW_LINE_EXP = /\\n(?!$)/g;\r\n\r\n/**\r\n * Resizes line numbers spans according to height of line of code\r\n * @param {Element} element <pre> element\r\n */\r\nvar _resizeElement = function (element) {\r\n\tvar codeStyles = getStyles(element);\r\n\tvar whiteSpace = codeStyles['white-space'];\r\n\r\n\tif (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {\r\n\t\tvar codeElement = element.querySelector(Prism.codeTag);\r\n\t\tvar lineNumbersWrapper = element.querySelector('.line-numbers-rows');\r\n\t\tvar lineNumberSizer = element.querySelector('.line-numbers-sizer');\r\n\t\tvar codeLines = codeElement.textContent.split(NEW_LINE_EXP);\r\n\r\n\t\tif (!lineNumberSizer) {\r\n\t\t\tlineNumberSizer = document.createElement('span');\r\n\t\t\tlineNumberSizer.className = 'line-numbers-sizer';\r\n\r\n\t\t\tcodeElement.appendChild(lineNumberSizer);\r\n\t\t}\r\n\r\n\t\tlineNumberSizer.style.display = 'block';\r\n\r\n\t\tcodeLines.forEach(function (line, lineNumber) {\r\n\t\t\tlineNumberSizer.textContent = line || '\\n';\r\n\t\t\tvar lineSize = lineNumberSizer.getBoundingClientRect().height;\r\n\t\t\tlineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';\r\n\t\t});\r\n\r\n\t\tlineNumberSizer.textContent = '';\r\n\t\tlineNumberSizer.style.display = 'none';\r\n\t}\r\n};\r\n\r\n/**\r\n * Returns style declarations for the element\r\n * @param {Element} element\r\n */\r\nvar getStyles = function (element) {\r\n\tif (!element) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);\r\n};\r\n\r\nPrism.hooks.add('complete', function (env) {\r\n\tif (!env.code) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar code = env.element;\r\n\tvar pre = code.parentNode;\r\n\r\n\t// works only for <code> wrapped inside <pre> (not inline)\r\n\tif (!pre || !/pre/i.test(pre.nodeName)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Abort if line numbers already exists\r\n\tif (code.querySelector('.line-numbers-rows')) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar addLineNumbers = false;\r\n\tvar lineNumbersRegex = /(?:^|\\s)line-numbers(?:\\s|$)/;\r\n\r\n\tfor (var element = code; element; element = element.parentNode) {\r\n\t\tif (lineNumbersRegex.test(element.className)) {\r\n\t\t\taddLineNumbers = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// only add line numbers if <code> or one of its ancestors has the `line-numbers` class\r\n\tif (!addLineNumbers) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Remove the class 'line-numbers' from the <code>\r\n\tcode.className = code.className.replace(lineNumbersRegex, ' ');\r\n\t// Add the class 'line-numbers' to the <pre>\r\n\tif (!lineNumbersRegex.test(pre.className)) {\r\n\t\tpre.className += ' line-numbers';\r\n\t}\r\n\r\n\tvar match = env.code.match(NEW_LINE_EXP);\r\n\tvar linesNum = match ? match.length + 1 : 1;\r\n\tvar lineNumbersWrapper;\r\n\r\n\tvar lines = new Array(linesNum + 1).join('<span></span>');\r\n\r\n\tlineNumbersWrapper = document.createElement('span');\r\n\tlineNumbersWrapper.setAttribute('aria-hidden', 'true');\r\n\tlineNumbersWrapper.className = 'line-numbers-rows';\r\n\tlineNumbersWrapper.innerHTML = lines;\r\n\r\n\tif (pre.hasAttribute('data-start')) {\r\n\t\tpre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\r\n\t}\r\n\r\n\tenv.element.appendChild(lineNumbersWrapper);\r\n\r\n\t_resizeElement(pre);\r\n\r\n\tPrism.hooks.run('line-numbers', env);\r\n});\r\n\r\nPrism.hooks.add('line-numbers', function (env) {\r\n\tenv.plugins = env.plugins || {};\r\n\tenv.plugins.lineNumbers = true;\r\n});\r\n\r\n/**\r\n * Global exports\r\n */\r\nPrism.plugins.lineNumbers = {\r\n\t/**\r\n\t * Update line numbers after resizing the text area by mouse\r\n\t * @param {Element} element pre element\r\n\t * @return {undefined}\r\n\t */\r\n\tupdateLineNumbers: function(element) {\r\n\t\t_resizeElement(element);\r\n\t},\r\n\t/**\r\n\t * Get node for provided line number\r\n\t * @param {Element} element pre element\r\n\t * @param {Number} number line number\r\n\t * @return {Element|undefined}\r\n\t */\r\n\tgetLine: function (element, number) {\r\n\t\tif (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar lineNumberRows = element.querySelector('.line-numbers-rows');\r\n\t\tvar lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;\r\n\t\tvar lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);\r\n\r\n\t\tif (number < lineNumberStart) {\r\n\t\t\tnumber = lineNumberStart;\r\n\t\t}\r\n\t\tif (number > lineNumberEnd) {\r\n\t\t\tnumber = lineNumberEnd;\r\n\t\t}\r\n\r\n\t\tvar lineIndex = number - lineNumberStart;\r\n\r\n\t\treturn lineNumberRows.children[lineIndex];\r\n\t}\r\n};\r\n","import Prism from './prism-core'\r\n\r\nvar MATCH_ALL_CLASS = /(?:^|\\s)match-braces(?:\\s|$)/;\r\n\r\nvar BRACE_HOVER_CLASS = /(?:^|\\s)brace-hover(?:\\s|$)/;\r\nvar BRACE_SELECTED_CLASS = /(?:^|\\s)brace-selected(?:\\s|$)/;\r\n\r\nvar NO_BRACE_HOVER_CLASS = /(?:^|\\s)no-brace-hover(?:\\s|$)/;\r\nvar NO_BRACE_SELECT_CLASS = /(?:^|\\s)no-brace-select(?:\\s|$)/;\r\n\r\nvar PARTNER = {\r\n\t'(': ')',\r\n\t'[': ']',\r\n\t'{': '}',\r\n};\r\n\r\nvar NAMES = {\r\n\t'(': 'brace-round',\r\n\t'[': 'brace-square',\r\n\t'{': 'brace-curly',\r\n};\r\n\r\nvar LEVEL_WARP = 12;\r\n\r\nvar pairIdCounter = 0;\r\n\r\nvar BRACE_ID_PATTERN = /^(pair-\\d+-)(open|close)$/;\r\n\r\n/**\r\n * Returns the brace partner given one brace of a brace pair.\r\n *\r\n * @param {HTMLElement} brace\r\n * @returns {HTMLElement}\r\n */\r\nfunction getPartnerBrace(brace) {\r\n\tvar match = BRACE_ID_PATTERN.exec(brace.id);\r\n\treturn brace.parentElement.querySelector('#' + match[1] + (match[2] == 'open' ? 'close' : 'open'));\r\n}\r\n\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction hoverBrace() {\r\n\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\r\n\t\tif (NO_BRACE_HOVER_CLASS.test(parent.className)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = (ele.className.replace(BRACE_HOVER_CLASS, ' ') + ' brace-hover').replace(/\\s+/g, ' ');\r\n\t});\r\n}\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction leaveBrace() {\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = ele.className.replace(BRACE_HOVER_CLASS, ' ');\r\n\t});\r\n}\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction clickBrace() {\r\n\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\r\n\t\tif (NO_BRACE_SELECT_CLASS.test(parent.className)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = (ele.className.replace(BRACE_SELECTED_CLASS, ' ') + ' brace-selected').replace(/\\s+/g, ' ');\r\n\t});\r\n}\r\n\r\nPrism.hooks.add('complete', function (env) {\r\n\r\n\t/** @type {HTMLElement} */\r\n\tvar code = env.element;\r\n\tvar pre = code.parentElement;\r\n\r\n\tif (!pre || pre.tagName != 'PRE') {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// find the braces to match\r\n\t/** @type {string[]} */\r\n\tvar toMatch = [];\r\n\tfor (var ele = code; ele; ele = ele.parentElement) {\r\n\t\tif (MATCH_ALL_CLASS.test(ele.className)) {\r\n\t\t\ttoMatch.push('(', '[', '{');\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif (toMatch.length == 0) {\r\n\t\t// nothing to match\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!pre.__listenerAdded) {\r\n\t\t// code blocks might be highlighted more than once\r\n\t\tpre.addEventListener('mousedown', function removeBraceSelected() {\r\n\t\t\t// the code element might have been replaced\r\n\t\t\tvar code = pre.querySelector(Prism.codeTag);\r\n\t\t\tArray.prototype.slice.call(code.querySelectorAll('.brace-selected')).forEach(function (element) {\r\n\t\t\t\telement.className = element.className.replace(BRACE_SELECTED_CLASS, ' ');\r\n\t\t\t});\r\n\t\t});\r\n\t\tObject.defineProperty(pre, '__listenerAdded', { value: true });\r\n\t}\r\n\r\n\t/** @type {HTMLSpanElement[]} */\r\n\tvar punctuation = Array.prototype.slice.call(code.querySelectorAll('span.token.punctuation'));\r\n\r\n\t/** @type {{ index: number, open: boolean, element: HTMLElement }[]} */\r\n\tvar allBraces = [];\r\n\r\n\ttoMatch.forEach(function (open) {\r\n\t\tvar close = PARTNER[open];\r\n\t\tvar name = NAMES[open];\r\n\r\n\t\t/** @type {[number, number][]} */\r\n\t\tvar pairs = [];\r\n\t\t/** @type {number[]} */\r\n\t\tvar openStack = [];\r\n\r\n\t\tfor (var i = 0; i < punctuation.length; i++) {\r\n\t\t\tvar element = punctuation[i];\r\n\t\t\tif (element.childElementCount == 0) {\r\n\t\t\t\tvar text = element.textContent;\r\n\t\t\t\tif (text === open) {\r\n\t\t\t\t\tallBraces.push({ index: i, open: true, element: element });\r\n\t\t\t\t\telement.className += ' ' + name;\r\n\t\t\t\t\telement.className += ' brace-open';\r\n\t\t\t\t\topenStack.push(i);\r\n\t\t\t\t} else if (text === close) {\r\n\t\t\t\t\tallBraces.push({ index: i, open: false, element: element });\r\n\t\t\t\t\telement.className += ' ' + name;\r\n\t\t\t\t\telement.className += ' brace-close';\r\n\t\t\t\t\tif (openStack.length) {\r\n\t\t\t\t\t\tpairs.push([i, openStack.pop()]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpairs.forEach(function (pair) {\r\n\t\t\tvar pairId = 'pair-' + (pairIdCounter++) + '-';\r\n\r\n\t\t\tvar openEle = punctuation[pair[0]];\r\n\t\t\tvar closeEle = punctuation[pair[1]];\r\n\r\n\t\t\topenEle.id = pairId + 'open';\r\n\t\t\tcloseEle.id = pairId + 'close';\r\n\r\n\t\t\t[openEle, closeEle].forEach(function (ele) {\r\n\t\t\t\tele.addEventListener('mouseenter', hoverBrace);\r\n\t\t\t\tele.addEventListener('mouseleave', leaveBrace);\r\n\t\t\t\tele.addEventListener('click', clickBrace);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tvar level = 0;\r\n\tallBraces.sort(function (a, b) { return a.index - b.index; });\r\n\tallBraces.forEach(function (brace) {\r\n\t\tif (brace.open) {\r\n\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\r\n\t\t\tlevel++;\r\n\t\t} else {\r\n\t\t\tlevel = Math.max(0, level - 1);\r\n\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\r\n\t\t}\r\n\t});\r\n\r\n});\r\n","import Prism from './prism-core'\r\n\r\nPrism.languages.graphviz = {\r\n  comment: [{\r\n    pattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\r\n    greedy: true\r\n  }, {\r\n    pattern: /(^|[^\\\\:])\\/\\/.*/,\r\n    lookbehind: !0,\r\n    greedy: !0\r\n  }],\r\n  string: {\r\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\r\n    greedy: !0\r\n  },\r\n  'class-name': {\r\n    pattern: /(\\b(?:digraph|graph)\\s+)\\w+/,\r\n    lookbehind: true\r\n  },\r\n  keyword: /\\b(?:digraph|graph|node|edge)\\b/,\r\n  property: /\\b(?:Damping|URL|area|arrowhead|arrowsize|arrowtail|aspect|bb|bgcolor|center|charset|clusterrank|color|colorscheme|comment|compound|concentrate|constraint|decorate|defaultdist|dim|dimen|dir|diredgeconstraints|distortion|dpi|edgeURL|edgehref|edgetarget|edgetooltip|epsilon|esep|fillcolor|fixedsize|fontcolor|fontname|fontnames|fontpath|fontsize|group|headURL|headclip|headhref|headlabel|headport|headtarget|headtooltip|height|href|id|image|imagepath|imagescale|label|labelURL|labelangle|labeldistance|labelfloat|labelfontcolor|labelfontname|labelfontsize|labelhref|labeljust|labelloc|labeltarget|labeltooltip|landscape|layer|layerlistsep|layers|layerselect|layersep|layout|len|levels|levelsgap|lhead|lheight|lp|ltail|lwidth|margin|maxiter|mclimit|mindist|minlen|mode|model|mosek|nodesep|nojustify|normalize|nslimit|nslimit1|ordering|orientation|outputorder|overlap|overlap_scaling|pack|packmode|pad|page|pagedir|pencolor|penwidth|peripheries|pin|pos|quadtree|quantum|rank|rankdir|ranksep|ratio|rects|regular|remincross|repulsiveforce|resolution|root|rotate|rotation|samehead|sametail|samplepoints|scale|searchsize|sep|shape|shapefile|showboxes|sides|size|skew|smoothing|sortv|splines|start|style|stylesheet|tail_lp|tailURL|tailclip|tailhref|taillabel|tailport|tailtarget|tailtooltip|target|tooltip|truecolor|vertices|viewport|voro_margin|weight|width|xlabel)\\b/,\r\n  constant: /\\b(?:dot|neato|fdp|sfdp|twopi|circo|osage|patchwork|LR|RL|TB|BT|box|polygon|ellipse|oval|circle|point|egg|triangle|plaintext|plain|diamond|trapezium|parallelogram|house|pentagon|hexagon|septagon|octagon|doublecircle|doubleoctagon|tripleoctagon|invtriangle|invtrapezium|invhouse|Mdiamond|Msquare|Mcircle|rect|rectangle|square|star|none|underline|cylinder|note|tab|folder|box3d|component|promoter|cds|terminator|utr|primersite|restrictionsite|fivepoverhang|threepoverhang|noverhang|assembly|signature|insulator|ribosite|rnastab|proteasesite|proteinstab|rpromoter|rarrow|larrow|lpromoter|solid|dashed|dotted|bold|rounded|diagonals|filled|striped|wedged)\\b/,\r\n  boolean: /\\b(?:true|yes|false|no)\\b/,\r\n  number: /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\r\n  operator: /->|--|=/,\r\n  punctuation: /[{}[\\];(),.:]/\r\n}\r\n","export function CodeJar(editor, highlight, opt = {}) {\r\n    const options = Object.assign({ tab: \"\\t\", ownerRoot: window }, opt);\r\n    // only Chrome supports shadowRoot.getSelection\r\n    if (typeof options.ownerRoot.getSelection !== 'function') {\r\n        options.ownerRoot = options.ownerRoot.ownerDocument;\r\n        if (typeof options.ownerRoot.getSelection !== 'function') {\r\n            throw new Error('Impossible to access text selections.');\r\n        }\r\n    }\r\n    let listeners = [];\r\n    let history = [];\r\n    let at = -1;\r\n    let focus = false;\r\n    let callback;\r\n    let prev; // code content prior keydown event\r\n    let isFirefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\r\n    editor.setAttribute(\"contentEditable\", isFirefox ? \"true\" : \"plaintext-only\");\r\n    editor.setAttribute(\"spellcheck\", \"false\");\r\n    editor.style.outline = \"none\";\r\n    editor.style.overflowWrap = \"break-word\";\r\n    editor.style.overflowY = \"auto\";\r\n    editor.style.resize = \"vertical\";\r\n    editor.style.whiteSpace = \"pre-wrap\";\r\n    highlight(editor);\r\n    const debounceHighlight = debounce(() => {\r\n        const pos = save();\r\n        highlight(editor);\r\n        restore(pos);\r\n    }, 30);\r\n    let recording = false;\r\n    const shouldRecord = (event) => {\r\n        return !isUndo(event) && !isRedo(event)\r\n            && event.key !== \"Meta\"\r\n            && event.key !== \"Control\"\r\n            && event.key !== \"Alt\"\r\n            && !event.key.startsWith(\"Arrow\");\r\n    };\r\n    const debounceRecordHistory = debounce((event) => {\r\n        if (shouldRecord(event)) {\r\n            recordHistory();\r\n            recording = false;\r\n        }\r\n    }, 300);\r\n    const on = (type, fn) => {\r\n        listeners.push([type, fn]);\r\n        editor.addEventListener(type, fn);\r\n    };\r\n    on(\"keydown\", event => {\r\n        if (event.defaultPrevented)\r\n            return;\r\n        prev = toString();\r\n        handleNewLine(event);\r\n        handleTabCharacters(event);\r\n        handleJumpToBeginningOfLine(event);\r\n        handleSelfClosingCharacters(event);\r\n        handleUndoRedo(event);\r\n        if (shouldRecord(event) && !recording) {\r\n            recordHistory();\r\n            recording = true;\r\n        }\r\n    });\r\n    on(\"keyup\", event => {\r\n        if (event.defaultPrevented)\r\n            return;\r\n        if (event.isComposing)\r\n            return;\r\n        if (prev !== toString())\r\n            debounceHighlight();\r\n        debounceRecordHistory(event);\r\n        if (callback)\r\n            callback(toString());\r\n    });\r\n    on(\"focus\", _event => {\r\n        focus = true;\r\n    });\r\n    on(\"blur\", _event => {\r\n        focus = false;\r\n    });\r\n    on(\"paste\", event => {\r\n        recordHistory();\r\n        handlePaste(event);\r\n        recordHistory();\r\n        if (callback)\r\n            callback(toString());\r\n    });\r\n    function save() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const pos = { start: 0, end: 0, dir: undefined };\r\n        visit(editor, el => {\r\n            if (el === s.anchorNode && el === s.focusNode) {\r\n                pos.start += s.anchorOffset;\r\n                pos.end += s.focusOffset;\r\n                pos.dir = s.anchorOffset <= s.focusOffset ? \"->\" : \"<-\";\r\n                return \"stop\";\r\n            }\r\n            if (el === s.anchorNode) {\r\n                pos.start += s.anchorOffset;\r\n                if (!pos.dir) {\r\n                    pos.dir = \"->\";\r\n                }\r\n                else {\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            else if (el === s.focusNode) {\r\n                pos.end += s.focusOffset;\r\n                if (!pos.dir) {\r\n                    pos.dir = \"<-\";\r\n                }\r\n                else {\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            if (el.nodeType === Node.TEXT_NODE) {\r\n                if (pos.dir != \"->\")\r\n                    pos.start += el.nodeValue.length;\r\n                if (pos.dir != \"<-\")\r\n                    pos.end += el.nodeValue.length;\r\n            }\r\n        });\r\n        return pos;\r\n    }\r\n    function restore(pos) {\r\n        const s = options.ownerRoot.getSelection();\r\n        let startNode, startOffset = 0;\r\n        let endNode, endOffset = 0;\r\n        if (!pos.dir)\r\n            pos.dir = \"->\";\r\n        if (pos.start < 0)\r\n            pos.start = 0;\r\n        if (pos.end < 0)\r\n            pos.end = 0;\r\n        // Flip start and end if the direction reversed\r\n        if (pos.dir == \"<-\") {\r\n            const { start, end } = pos;\r\n            pos.start = end;\r\n            pos.end = start;\r\n        }\r\n        let current = 0;\r\n        visit(editor, el => {\r\n            if (el.nodeType !== Node.TEXT_NODE)\r\n                return;\r\n            const len = (el.nodeValue || \"\").length;\r\n            if (current + len >= pos.start) {\r\n                if (!startNode) {\r\n                    startNode = el;\r\n                    startOffset = pos.start - current;\r\n                }\r\n                if (current + len >= pos.end) {\r\n                    endNode = el;\r\n                    endOffset = pos.end - current;\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            current += len;\r\n        });\r\n        // If everything deleted place cursor at editor\r\n        if (!startNode)\r\n            startNode = editor;\r\n        if (!endNode)\r\n            endNode = editor;\r\n        // Flip back the selection\r\n        if (pos.dir == \"<-\") {\r\n            [startNode, startOffset, endNode, endOffset] = [endNode, endOffset, startNode, startOffset];\r\n        }\r\n        s.setBaseAndExtent(startNode, startOffset, endNode, endOffset);\r\n    }\r\n    function beforeCursor() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const r0 = s.getRangeAt(0);\r\n        const r = document.createRange();\r\n        r.selectNodeContents(editor);\r\n        r.setEnd(r0.startContainer, r0.startOffset);\r\n        return r.toString();\r\n    }\r\n    function afterCursor() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const r0 = s.getRangeAt(0);\r\n        const r = document.createRange();\r\n        r.selectNodeContents(editor);\r\n        r.setStart(r0.endContainer, r0.endOffset);\r\n        return r.toString();\r\n    }\r\n    function handleNewLine(event) {\r\n        if (event.key === \"Enter\") {\r\n            const before = beforeCursor();\r\n            const after = afterCursor();\r\n            let [padding] = findPadding(before);\r\n            let newLinePadding = padding;\r\n            // If last symbol is \"{\" ident new line\r\n            if (before[before.length - 1] === \"{\") {\r\n                newLinePadding += options.tab;\r\n            }\r\n            if (isFirefox) {\r\n                preventDefault(event);\r\n                insert(\"\\n\" + newLinePadding);\r\n            }\r\n            else {\r\n                // Normal browsers\r\n                if (newLinePadding.length > 0) {\r\n                    preventDefault(event);\r\n                    insert(\"\\n\" + newLinePadding);\r\n                }\r\n            }\r\n            // Place adjacent \"}\" on next line\r\n            if (newLinePadding !== padding && after[0] === \"}\") {\r\n                const pos = save();\r\n                insert(\"\\n\" + padding);\r\n                restore(pos);\r\n            }\r\n        }\r\n    }\r\n    function handleSelfClosingCharacters(event) {\r\n        const open = `([{'\"`;\r\n        const close = `)]}'\"`;\r\n        const codeAfter = afterCursor();\r\n        if (close.includes(event.key) && codeAfter.substr(0, 1) === event.key) {\r\n            const pos = save();\r\n            preventDefault(event);\r\n            pos.start = ++pos.end;\r\n            restore(pos);\r\n        }\r\n        else if (open.includes(event.key)) {\r\n            const pos = save();\r\n            preventDefault(event);\r\n            const text = event.key + close[open.indexOf(event.key)];\r\n            insert(text);\r\n            pos.start = ++pos.end;\r\n            restore(pos);\r\n        }\r\n    }\r\n    function handleTabCharacters(event) {\r\n        if (event.key === \"Tab\") {\r\n            preventDefault(event);\r\n            if (event.shiftKey) {\r\n                const before = beforeCursor();\r\n                let [padding, start,] = findPadding(before);\r\n                if (padding.length > 0) {\r\n                    const pos = save();\r\n                    // Remove full length tab or just remaining padding\r\n                    const len = Math.min(options.tab.length, padding.length);\r\n                    restore({ start, end: start + len });\r\n                    document.execCommand(\"delete\");\r\n                    pos.start -= len;\r\n                    pos.end -= len;\r\n                    restore(pos);\r\n                }\r\n            }\r\n            else {\r\n                insert(options.tab);\r\n            }\r\n        }\r\n    }\r\n    function handleJumpToBeginningOfLine(event) {\r\n        if (event.key === \"ArrowLeft\" && event.metaKey) {\r\n            preventDefault(event);\r\n            const before = beforeCursor();\r\n            let [padding, start, end] = findPadding(before);\r\n            if (before.endsWith(padding)) {\r\n                if (event.shiftKey) {\r\n                    const pos = save();\r\n                    restore({ start, end: pos.end }); // Select from line start.\r\n                }\r\n                else {\r\n                    restore({ start, end: start }); // Jump to line start.\r\n                }\r\n            }\r\n            else {\r\n                if (event.shiftKey) {\r\n                    const pos = save();\r\n                    restore({ start: end, end: pos.end }); // Select from beginning of text.\r\n                }\r\n                else {\r\n                    restore({ start: end, end }); // Jump to beginning of text.\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleUndoRedo(event) {\r\n        if (isUndo(event)) {\r\n            preventDefault(event);\r\n            at--;\r\n            const record = history[at];\r\n            if (record) {\r\n                editor.innerHTML = record.html;\r\n                restore(record.pos);\r\n            }\r\n            if (at < 0)\r\n                at = 0;\r\n        }\r\n        if (isRedo(event)) {\r\n            preventDefault(event);\r\n            at++;\r\n            const record = history[at];\r\n            if (record) {\r\n                editor.innerHTML = record.html;\r\n                restore(record.pos);\r\n            }\r\n            if (at >= history.length)\r\n                at--;\r\n        }\r\n    }\r\n    function recordHistory() {\r\n        if (!focus)\r\n            return;\r\n        const html = editor.innerHTML;\r\n        const pos = save();\r\n        const lastRecord = history[at];\r\n        if (lastRecord) {\r\n            if (lastRecord.html === html\r\n                && lastRecord.pos.start === pos.start\r\n                && lastRecord.pos.end === pos.end)\r\n                return;\r\n        }\r\n        at++;\r\n        history[at] = { html, pos };\r\n        history.splice(at + 1);\r\n        const maxHistory = 300;\r\n        if (at > maxHistory) {\r\n            at = maxHistory;\r\n            history.splice(0, 1);\r\n        }\r\n    }\r\n    function handlePaste(event) {\r\n        preventDefault(event);\r\n        const text = (event.originalEvent || event).clipboardData.getData(\"text/plain\");\r\n        const pos = save();\r\n        insert(text);\r\n        highlight(editor);\r\n        restore({ start: pos.end + text.length, end: pos.end + text.length });\r\n    }\r\n    function visit(editor, visitor) {\r\n        const queue = [];\r\n        if (editor.firstChild)\r\n            queue.push(editor.firstChild);\r\n        let el = queue.pop();\r\n        while (el) {\r\n            if (visitor(el) === \"stop\")\r\n                break;\r\n            if (el.nextSibling)\r\n                queue.push(el.nextSibling);\r\n            if (el.firstChild)\r\n                queue.push(el.firstChild);\r\n            el = queue.pop();\r\n        }\r\n    }\r\n    function isCtrl(event) {\r\n        return event.metaKey || event.ctrlKey;\r\n    }\r\n    function isUndo(event) {\r\n        return isCtrl(event) && !event.shiftKey && event.code === \"KeyZ\";\r\n    }\r\n    function isRedo(event) {\r\n        return isCtrl(event) && event.shiftKey && event.code === \"KeyZ\";\r\n    }\r\n    function insert(text) {\r\n        text = text\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&#039;\");\r\n        document.execCommand(\"insertHTML\", false, text);\r\n    }\r\n    function debounce(cb, wait) {\r\n        let timeout = 0;\r\n        return (...args) => {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(() => cb(...args), wait);\r\n        };\r\n    }\r\n    function findPadding(text) {\r\n        // Find beginning of previous line.\r\n        let i = text.length - 1;\r\n        while (i >= 0 && text[i] !== \"\\n\")\r\n            i--;\r\n        i++;\r\n        // Find padding of the line.\r\n        let j = i;\r\n        while (j < text.length && /[ \\t]/.test(text[j]))\r\n            j++;\r\n        return [text.substring(i, j) || \"\", i, j];\r\n    }\r\n    function toString() {\r\n        return editor.textContent || \"\";\r\n    }\r\n    function preventDefault(event) {\r\n        event.preventDefault();\r\n    }\r\n    return {\r\n        updateOptions(options) {\r\n            options = Object.assign(Object.assign({}, options), options);\r\n        },\r\n        updateCode(code) {\r\n            editor.textContent = code;\r\n            highlight(editor);\r\n        },\r\n        onUpdate(cb) {\r\n            callback = cb;\r\n        },\r\n        toString,\r\n        destroy() {\r\n            for (let [type, fn] of listeners) {\r\n                editor.removeEventListener(type, fn);\r\n            }\r\n        },\r\n    };\r\n}\r\n"],"names":["renderer","rendererUrl","template","pendingAllLineNumbersUpdate","delayWorkerLoading","window","graphvizWebComponent","getRenderer","Worker","setTimeout","graphKey","Symbol","scaleKey","render_id","Number","MIN_SAFE_INTEGER","requestRendering","element","script","receiveResult","addEventListener","postMessage","graph","closeRendering","removeEventListener","triggerEvent","type","detail","dispatchEvent","CustomEvent","applyScale","svg","shadowRoot","children","scale","style","transform","transformOrigin","showImage","innerHTML","GraphvizGraphElement","HTMLElement","constructor","attachShadow","mode","graphCompleted","Promise","resolve","value","setAttribute","attributeChangedCallback","name","oldValue","newValue","updateGraph","assigned_render_id","undefined","data","error","message","trim","console","catch","tryGraph","promise","reject","observedAttributes","customElements","define","_","lang","uniqueId","Prism","codeTag","util","encode","tokens","Token","content","alias","Array","isArray","map","replace","o","Object","prototype","toString","call","slice","objId","obj","defineProperty","clone","deepClone","visited","id","key","hasOwnProperty","forEach","v","i","getLanguage","test","className","parentElement","match","toLowerCase","languages","extend","redef","insertBefore","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","callback","property","propertyType","plugins","highlightElement","language","parent","parentNode","nodeName","code","textContent","env","insertHighlightedCode","highlightedCode","hooks","run","highlight","text","tokenize","stringify","rest","tokenList","LinkedList","addAfter","head","matchGrammar","startNode","startPos","oneshot","target","patterns","j","length","pattern","lookbehind","greedy","lookbehindLength","global","flags","RegExp","source","currentNode","next","pos","tail","str","removeCount","prev","lastIndex","exec","from","index","to","p","k","after","removeFrom","removeRange","list","node","count","wrapped","toArray","array","push","all","add","callbacks","matchedStr","newNode","s","e","tag","classes","attributes","aliases","apply","join","NEW_LINE_EXP","_resizeElement","whiteSpace","codeStyles","getStyles","codeElement","querySelector","lineNumbersWrapper","lineNumberSizer","codeLines","split","document","createElement","appendChild","display","line","lineNumber","lineSize","getBoundingClientRect","height","getComputedStyle","currentStyle","pre","addLineNumbers","lineNumbersRegex","lines","linesNum","hasAttribute","counterReset","parseInt","getAttribute","lineNumbers","updateLineNumbers","getLine","number","tagName","classList","contains","lineNumberRows","lineNumberStart","lineNumberEnd","lineIndex","MATCH_ALL_CLASS","BRACE_HOVER_CLASS","BRACE_SELECTED_CLASS","NO_BRACE_HOVER_CLASS","NO_BRACE_SELECT_CLASS","PARTNER","NAMES","pairIdCounter","BRACE_ID_PATTERN","getPartnerBrace","brace","hoverBrace","ele","leaveBrace","clickBrace","toMatch","__listenerAdded","querySelectorAll","punctuation","allBraces","open","close","pairs","openStack","childElementCount","pop","pair","pairId","openEle","closeEle","level","sort","a","b","Math","max","graphviz","comment","string","keyword","constant","boolean","operator","features","connectedKey","valueKey","tabKey","classKey","jarKey","widthKey","heightKey","mousedownKey","mouseupKey","normalizeLineBreaks","createEditor","ownerRoot","getElementById","featureClasses","filter","feature","includes","jar","CodeJar","editor","opt","options","assign","tab","getSelection","ownerDocument","Error","listeners","history","at","focus","isFirefox","navigator","userAgent","indexOf","outline","overflowWrap","overflowY","resize","debounceHighlight","debounce","save","restore","recording","shouldRecord","event","isUndo","isRedo","startsWith","debounceRecordHistory","recordHistory","on","fn","start","end","dir","visit","el","anchorNode","focusNode","anchorOffset","focusOffset","nodeType","Node","TEXT_NODE","nodeValue","startOffset","endNode","endOffset","current","len","setBaseAndExtent","beforeCursor","r0","getRangeAt","r","createRange","selectNodeContents","setEnd","startContainer","afterCursor","setStart","endContainer","html","lastRecord","splice","visitor","queue","firstChild","nextSibling","isCtrl","metaKey","ctrlKey","shiftKey","execCommand","cb","wait","timeout","args","clearTimeout","findPadding","substring","preventDefault","defaultPrevented","handleNewLine","padding","newLinePadding","handleTabCharacters","min","handleJumpToBeginningOfLine","endsWith","handleSelfClosingCharacters","codeAfter","substr","handleUndoRedo","record","isComposing","_event","handlePaste","originalEvent","clipboardData","getData","updateOptions","updateCode","onUpdate","destroy","updateEditor","newCode","destroyEditor","GraphvizScriptEditorElement","getTemplate","cloneNode","configureEditor","hasChangedFeatureClass","oldClasses","newClasses","some","connectedCallback","registerEvents","mousedown","clientWidth","clientHeight","mouseup","disconnectedCallback","newWidth","newHeight","updateAllLineNumbers","editors"],"mappings":"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"}