var graphvizElements=function(){"use strict";let e,t;let{delayWorkerLoading:r}=window.graphvizWebComponent||{};function s(){return e||(t||({rendererUrl:t="https://unpkg.com/graphviz-webcomponent@1.1.0/dist/renderer.min.js"}=window.graphvizWebComponent||{}),e=new Worker(t)),e}r||setTimeout(s);let n=Symbol("graph"),i=Symbol("scale"),o=Number.MIN_SAFE_INTEGER;function a(e,t,r){let n=s();return n.addEventListener("message",r),n.postMessage({script:t||e.graph,render_id:o}),o++}function h(e){let t=s();t.removeEventListener("message",e)}function l(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:r}))}function c(e){let t=e.shadowRoot.children[0],r=e.scale;t&&(r?(t.style.transform=`scale(${r})`,t.style.transformOrigin="top left"):(t.style.transform="",t.style.transformOrigin=""))}function p(e,t){e.shadowRoot.innerHTML=t,c(e),l(e,"render",t)}class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.graphCompleted=Promise.resolve()}get graph(){return this[n]}set graph(e){this.setAttribute("graph",e)}get scale(){return this[i]}set scale(e){this.setAttribute("scale",e)}attributeChangedCallback(e,t,r){switch(e){case"graph":var s;this[n]=r,this.graphCompleted=(s=this,new Promise(e=>{if(s.shadowRoot.innerHTML="",!s.graph)return e();let t=a(s,void 0,function r({data:n}){let{svg:i,error:o,render_id:a}=n;if(t===a){if(h(r),o){var c;return o.message=o.message.trim(),c=s,console.error("Graphviz failed:",o),c.shadowRoot.innerHTML=o.message,l(c,"error",o),e(o)}p(s,i),e(i)}})})).catch(e=>e);break;case"scale":this[i]=r,c(this)}}tryGraph(e){var t;let r=(t=this,new Promise((r,s)=>{if(!e)return t[n]="",t.shadowRoot.innerHTML="",r();let i=a(t,e,function o({data:a}){let{svg:l,error:c,render_id:m}=a;if(i===m){if(h(o),c)return s(c);t[n]=e,p(t,l),r(l)}})}));return this.graphCompleted=r.catch(e=>e),r}static get observedAttributes(){return["graph","scale"]}}return customElements.define("graphviz-graph",m),m}();
//# sourceMappingURL=graph.min.js.map
