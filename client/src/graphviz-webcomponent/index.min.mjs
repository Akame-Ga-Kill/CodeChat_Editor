let renderer,rendererUrl,template,pendingAllLineNumbersUpdate;let{delayWorkerLoading:e}=window.graphvizWebComponent||{};function ensureConfiguration(){rendererUrl||({rendererUrl="https://unpkg.com/graphviz-webcomponent@1.1.0/dist/renderer.min.js"}=window.graphvizWebComponent||{})}function getRenderer(){return renderer||(ensureConfiguration(),renderer=new Worker(rendererUrl)),renderer}e||setTimeout(getRenderer);let graphKey=Symbol("graph"),scaleKey=Symbol("scale"),render_id=Number.MIN_SAFE_INTEGER;function requestRendering(e,n,t){let r=getRenderer();return r.addEventListener("message",t),r.postMessage({script:n||e.graph,render_id}),render_id++}function closeRendering(e){let n=getRenderer();n.removeEventListener("message",e)}function triggerEvent$1(e,n,t){e.dispatchEvent(new CustomEvent(n,{detail:t}))}function applyScale(e){let n=e.shadowRoot.children[0],t=e.scale;n&&(t?(n.style.transform=`scale(${t})`,n.style.transformOrigin="top left"):(n.style.transform="",n.style.transformOrigin=""))}function showImage(e,n){e.shadowRoot.innerHTML=n,applyScale(e),triggerEvent$1(e,"render",n)}function showError(e,n){return console.error("Graphviz failed:",n),e.shadowRoot.innerHTML=n.message,triggerEvent$1(e,"error",n)}function updateGraph(e){return new Promise(n=>{if(e.shadowRoot.innerHTML="",!e.graph)return n();let t=requestRendering(e,void 0,function r({data:a}){let{svg:o,error:i,render_id:l}=a;if(t===l){if(closeRendering(r),i)return i.message=i.message.trim(),showError(e,i),n(i);showImage(e,o),n(o)}})})}function tryUpdateGraph(e,n){return new Promise((t,r)=>{if(!n)return e[graphKey]="",e.shadowRoot.innerHTML="",t();let a=requestRendering(e,n,function o({data:i}){let{svg:l,error:s,render_id:c}=i;if(a===c){if(closeRendering(o),s)return r(s);e[graphKey]=n,showImage(e,l),t(l)}})})}class GraphvizGraphElement extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.graphCompleted=Promise.resolve()}get graph(){return this[graphKey]}set graph(e){this.setAttribute("graph",e)}get scale(){return this[scaleKey]}set scale(e){this.setAttribute("scale",e)}attributeChangedCallback(e,n,t){switch(e){case"graph":this[graphKey]=t,this.graphCompleted=updateGraph(this).catch(e=>e);break;case"scale":this[scaleKey]=t,applyScale(this)}}tryGraph(e){let n=tryUpdateGraph(this,e);return this.graphCompleted=n.catch(e=>e),n}static get observedAttributes(){return["graph","scale"]}}function CodeJar(e,n,t={}){let r,a;let o=Object.assign({tab:"	",ownerRoot:window},t);if("function"!=typeof o.ownerRoot.getSelection&&(o.ownerRoot=o.ownerRoot.ownerDocument,"function"!=typeof o.ownerRoot.getSelection))throw Error("Impossible to access text selections.");let i=[],l=[],s=-1,c=!1,u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;e.setAttribute("contentEditable",u?"true":"plaintext-only"),e.setAttribute("spellcheck","false"),e.style.outline="none",e.style.overflowWrap="break-word",e.style.overflowY="auto",e.style.resize="vertical",e.style.whiteSpace="pre-wrap",n(e);let d=N(()=>{let t=f();n(e),b(t)},30),p=!1,g=e=>!A(e)&&!L(e)&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&!e.key.startsWith("Arrow"),h=N(e=>{g(e)&&(k(),p=!1)},300),m=(n,t)=>{i.push([n,t]),e.addEventListener(n,t)};function f(){let n=o.ownerRoot.getSelection(),t={start:0,end:0,dir:void 0};return E(e,e=>{if(e===n.anchorNode&&e===n.focusNode)return t.start+=n.anchorOffset,t.end+=n.focusOffset,t.dir=n.anchorOffset<=n.focusOffset?"->":"<-","stop";if(e===n.anchorNode){if(t.start+=n.anchorOffset,t.dir)return"stop";t.dir="->"}else if(e===n.focusNode){if(t.end+=n.focusOffset,t.dir)return"stop";t.dir="<-"}e.nodeType===Node.TEXT_NODE&&("->"!=t.dir&&(t.start+=e.nodeValue.length),"<-"!=t.dir&&(t.end+=e.nodeValue.length))}),t}function b(n){let t=o.ownerRoot.getSelection(),r,a=0,i,l=0;if(n.dir||(n.dir="->"),n.start<0&&(n.start=0),n.end<0&&(n.end=0),"<-"==n.dir){let{start:s,end:c}=n;n.start=c,n.end=s}let u=0;E(e,e=>{if(e.nodeType!==Node.TEXT_NODE)return;let t=(e.nodeValue||"").length;if(u+t>=n.start&&(r||(r=e,a=n.start-u),u+t>=n.end))return i=e,l=n.end-u,"stop";u+=t}),r||(r=e),i||(i=e),"<-"==n.dir&&([r,a,i,l]=[i,l,r,a]),t.setBaseAndExtent(r,a,i,l)}function y(){let n=o.ownerRoot.getSelection(),t=n.getRangeAt(0),r=document.createRange();return r.selectNodeContents(e),r.setEnd(t.startContainer,t.startOffset),r.toString()}function v(){let n=o.ownerRoot.getSelection(),t=n.getRangeAt(0),r=document.createRange();return r.selectNodeContents(e),r.setStart(t.endContainer,t.endOffset),r.toString()}function k(){if(!c)return;let n=e.innerHTML,t=f(),r=l[s];(!r||r.html!==n||r.pos.start!==t.start||r.pos.end!==t.end)&&(l[++s]={html:n,pos:t},l.splice(s+1),s>300&&(s=300,l.splice(0,1)))}function E(e,n){let t=[];e.firstChild&&t.push(e.firstChild);let r=t.pop();for(;r&&"stop"!==n(r);)r.nextSibling&&t.push(r.nextSibling),r.firstChild&&t.push(r.firstChild),r=t.pop()}function w(e){return e.metaKey||e.ctrlKey}function A(e){return w(e)&&!e.shiftKey&&"KeyZ"===e.code}function L(e){return w(e)&&e.shiftKey&&"KeyZ"===e.code}function C(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),document.execCommand("insertHTML",!1,e)}function N(e,n){let t=0;return(...r)=>{clearTimeout(t),t=setTimeout(()=>e(...r),n)}}function S(e){let n=e.length-1;for(;n>=0&&"\n"!==e[n];)n--;let t=++n;for(;t<e.length&&/[ \t]/.test(e[t]);)t++;return[e.substring(n,t)||"",n,t]}function x(){return e.textContent||""}function R(e){e.preventDefault()}return m("keydown",n=>{n.defaultPrevented||(a=x(),function(e){if("Enter"===e.key){let n=y(),t=v(),[r]=S(n),a=r;if("{"===n[n.length-1]&&(a+=o.tab),u?(R(e),C("\n"+a)):a.length>0&&(R(e),C("\n"+a)),a!==r&&"}"===t[0]){let i=f();C("\n"+r),b(i)}}}(n),function(e){if("Tab"===e.key){if(R(e),e.shiftKey){let n=y(),[t,r]=S(n);if(t.length>0){let a=f(),i=Math.min(o.tab.length,t.length);b({start:r,end:r+i}),document.execCommand("delete"),a.start-=i,a.end-=i,b(a)}}else C(o.tab)}}(n),function(e){if("ArrowLeft"===e.key&&e.metaKey){R(e);let n=y(),[t,r,a]=S(n);if(n.endsWith(t)){if(e.shiftKey){let o=f();b({start:r,end:o.end})}else b({start:r,end:r})}else if(e.shiftKey){let i=f();b({start:a,end:i.end})}else b({start:a,end:a})}}(n),function(e){let n="([{'\"",t=")]}'\"",r=v();if(t.includes(e.key)&&r.substr(0,1)===e.key){let a=f();R(e),a.start=++a.end,b(a)}else if(n.includes(e.key)){let o=f();R(e);let i=e.key+t[n.indexOf(e.key)];C(i),o.start=++o.end,b(o)}}(n),function(n){if(A(n)){R(n),s--;let t=l[s];t&&(e.innerHTML=t.html,b(t.pos)),s<0&&(s=0)}if(L(n)){R(n),s++;let r=l[s];r&&(e.innerHTML=r.html,b(r.pos)),s>=l.length&&s--}}(n),!g(n)||p||(k(),p=!0))}),m("keyup",e=>{e.defaultPrevented||e.isComposing||(a!==x()&&d(),h(e),r&&r(x()))}),m("focus",e=>{c=!0}),m("blur",e=>{c=!1}),m("paste",t=>{k(),function(t){R(t);let r=(t.originalEvent||t).clipboardData.getData("text/plain"),a=f();C(r),n(e),b({start:a.end+r.length,end:a.end+r.length})}(t),k(),r&&r(x())}),{updateOptions(e){e=Object.assign(Object.assign({},e),e)},updateCode(t){e.textContent=t,n(e)},onUpdate(e){r=e},toString:x,destroy(){for(let[n,t]of i)e.removeEventListener(n,t)}}}customElements.define("graphviz-graph",GraphvizGraphElement);var _,lang=/\blang(?:uage)?-([\w-]+)\b/i,uniqueId=0,Prism=_={codeTag:"code",util:{encode:function e(n){return n instanceof Token?new Token(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++uniqueId}),e.__id},clone:function e(n,t){var r,a;switch(t=t||{},_.util.type(n)){case"Object":if(t[a=_.util.objId(n)])return t[a];for(var o in r={},t[a]=r,n)n.hasOwnProperty(o)&&(r[o]=e(n[o],t));return r;case"Array":if(t[a=_.util.objId(n)])return t[a];return r=[],t[a]=r,n.forEach(function(n,a){r[a]=e(n,t)}),r;default:return n}},getLanguage:function(e){for(;e&&!lang.test(e.className);)e=e.parentElement;return e?(e.className.match(lang)||[,"none"])[1].toLowerCase():"none"}},languages:{extend:function(e,n){var t=_.util.clone(_.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var a=(r=r||_.languages)[e],o={};for(var i in a)if(a.hasOwnProperty(i)){if(i==n)for(var l in t)t.hasOwnProperty(l)&&(o[l]=t[l]);t.hasOwnProperty(i)||(o[i]=a[i])}var s=r[e];return r[e]=o,_.languages.DFS(_.languages,function(n,t){t===s&&n!=e&&(this[n]=o)}),o},DFS:function e(n,t,r,a){a=a||{};var o=_.util.objId;for(var i in n)if(n.hasOwnProperty(i)){t.call(n,i,n[i],r||i);var l=n[i],s=_.util.type(l);"Object"!==s||a[o(l)]?"Array"!==s||a[o(l)]||(a[o(l)]=!0,e(l,t,i,a)):(a[o(l)]=!0,e(l,t,null,a))}}},plugins:{},highlightElement:function(e,n){var t=_.util.getLanguage(e),r=_.languages[t];e.className=e.className.replace(lang,"").replace(/\s+/g," ")+" language-"+t;var a=e.parentNode;a&&"pre"===a.nodeName.toLowerCase()&&(a.className=a.className.replace(lang,"").replace(/\s+/g," ")+" language-"+t);var o=e.textContent,i={element:e,language:t,grammar:r,code:o};function l(e){i.highlightedCode=e,_.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,_.hooks.run("after-highlight",i),_.hooks.run("complete",i),n&&n.call(i.element)}if(_.hooks.run("before-sanity-check",i),!i.code){_.hooks.run("complete",i),n&&n.call(i.element);return}if(_.hooks.run("before-highlight",i),!i.grammar){l(_.util.encode(i.code));return}l(_.highlight(i.code,i.grammar,i.language))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};return _.hooks.run("before-tokenize",r),r.tokens=_.tokenize(r.code,r.grammar),_.hooks.run("after-tokenize",r),Token.stringify(_.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new LinkedList;return addAfter(a,a.head,e),matchGrammar(e,a,n,a.head,0),toArray(a)},hooks:{all:{},add:function(e,n){var t=_.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=_.hooks.all[e];if(t&&t.length)for(var r,a=0;r=t[a++];)r(n)}},Token:Token};function Token(e,n,t,r,a){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length,this.greedy=!!a}function matchGrammar(e,n,t,r,a,o,i){for(var l in t)if(t.hasOwnProperty(l)&&t[l]){var s=t[l];s=Array.isArray(s)?s:[s];for(var c=0;c<s.length;++c){if(i&&i==l+","+c)return;var u=s[c],d=u.inside,p=!!u.lookbehind,g=!!u.greedy,h=0,m=u.alias;if(g&&!u.pattern.global){var f=u.pattern.toString().match(/[imsuy]*$/)[0];u.pattern=RegExp(u.pattern.source,f+"g")}u=u.pattern||u;for(var b=r.next,y=a;b!==n.tail;y+=b.value.length,b=b.next){var v=b.value;if(n.length>e.length)return;if(!(v instanceof Token)){var k=1;if(g&&b!=n.tail.prev){u.lastIndex=y;var E=u.exec(e);if(!E)break;var w=E.index+(p&&E[1]?E[1].length:0),A=E.index+E[0].length,L=y;for(L+=b.value.length;w>=L;)b=b.next,L+=b.value.length;if(L-=b.value.length,y=L,b.value instanceof Token)continue;for(var C=b;C!==n.tail&&(L<A||"string"==typeof C.value&&!C.prev.value.greedy);C=C.next)k++,L+=C.value.length;k--,v=e.slice(y,L),E.index-=y}else{u.lastIndex=0;var E=u.exec(v)}if(!E){if(o)break;continue}p&&(h=E[1]?E[1].length:0);var w=E.index+h,E=E[0].slice(h),A=w+E.length,N=v.slice(0,w),S=v.slice(A),x=b.prev;N&&(x=addAfter(n,x,N),y+=N.length),removeRange(n,x,k);var R=new Token(l,d?_.tokenize(E,d):E,m,E,g);if(b=addAfter(n,x,R),S&&addAfter(n,b,S),k>1&&matchGrammar(e,n,t,b.prev,y,!0,l+","+c),o)break}}}}}function LinkedList(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function addAfter(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function removeRange(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}function toArray(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}Token.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach(function(n){r+=e(n,t)}),r}var a={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},o=n.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(a.classes,o):a.classes.push(o)),_.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"};var lightTheme='/**\r\n * VS theme by Andrew Lock (https://andrewlock.net)\r\n * Inspired by Visual Studio syntax coloring\r\n */\r\n\r\n code[class*="language-"],\r\n pre[class*="language-"] {\r\n   color: #393A34;\r\n   /* font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace; */\r\n   direction: ltr;\r\n   text-align: left;\r\n   white-space: pre;\r\n   word-spacing: normal;\r\n   word-break: normal;\r\n   /* font-size: .9em; */\r\n   /* line-height: 1.2em; */\r\n \r\n   /* -moz-tab-size: 4; */\r\n   /* -o-tab-size: 4; */\r\n   /* tab-size: 4; */\r\n \r\n   -webkit-hyphens: none;\r\n   -moz-hyphens: none;\r\n   -ms-hyphens: none;\r\n   hyphens: none;\r\n }\r\n \r\n pre > code[class*="language-"] {\r\n   font-size: 1em;\r\n }\r\n \r\n pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,\r\n code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {\r\n   background: #C1DEF1;\r\n }\r\n \r\n pre[class*="language-"]::selection, pre[class*="language-"] ::selection,\r\n code[class*="language-"]::selection, code[class*="language-"] ::selection {\r\n   background: #C1DEF1;\r\n }\r\n \r\n /* Code blocks */\r\n pre[class*="language-"] {\r\n   padding: 1em;\r\n   margin: .5em 0;\r\n   overflow: auto;\r\n   border: 1px solid #dddddd;\r\n   background-color: white;\r\n }\r\n \r\n /* Inline code */\r\n :not(pre) > code[class*="language-"] {\r\n   padding: .2em;\r\n   padding-top: 1px;\r\n   padding-bottom: 1px;\r\n   background: #f8f8f8;\r\n   border: 1px solid #dddddd;\r\n }\r\n \r\n .token.comment,\r\n .token.prolog,\r\n .token.doctype,\r\n .token.cdata {\r\n   color: #008000;\r\n   font-style: italic;\r\n }\r\n \r\n .token.namespace {\r\n   opacity: .7;\r\n }\r\n \r\n .token.string {\r\n   color: #A31515;\r\n }\r\n \r\n .token.punctuation,\r\n .token.operator {\r\n   color: #393A34; /* no highlight */\r\n }\r\n \r\n .token.url,\r\n .token.symbol,\r\n .token.number,\r\n .token.boolean,\r\n .token.variable,\r\n .token.constant,\r\n .token.inserted {\r\n   color: #36acaa;\r\n }\r\n \r\n .token.atrule,\r\n .token.keyword,\r\n .token.attr-value,\r\n .language-autohotkey .token.selector,\r\n .language-json .token.boolean,\r\n .language-json .token.number,\r\n code[class*="language-css"] {\r\n   color: #0000ff;\r\n }\r\n \r\n .token.function {\r\n   color: #393A34;\r\n }\r\n \r\n .token.deleted,\r\n .language-autohotkey .token.tag {\r\n   color: #9a050f;\r\n }\r\n \r\n .token.selector,\r\n .language-autohotkey .token.keyword {\r\n   color: #00009f;\r\n }\r\n \r\n .token.important,\r\n .token.bold {\r\n   font-weight: bold;\r\n }\r\n \r\n .token.italic {\r\n   font-style: italic;\r\n }\r\n \r\n .token.class-name,\r\n .language-json .token.property {\r\n   color: #2B91AF;\r\n }\r\n \r\n .token.tag,\r\n .token.selector {\r\n   color: #800000;\r\n }\r\n \r\n .token.attr-name,\r\n .token.property,\r\n .token.regex,\r\n .token.entity {\r\n   color: #ff0000;\r\n }\r\n \r\n .token.directive.tag .tag {\r\n   background: #ffff00;\r\n   color: #393A34;\r\n }\r\n \r\n /* overrides color-values for the Line Numbers plugin\r\n  * http://prismjs.com/plugins/line-numbers/\r\n  */\r\n\r\n .line-numbers .line-numbers-rows {\r\n   border-right-color: #a5a5a5;\r\n }\r\n \r\n .line-numbers-rows > span:before {\r\n   color: #2B91AF;\r\n }\r\n \r\n /* overrides color-values for the Line Highlight plugin\r\n * http://prismjs.com/plugins/line-highlight/\r\n */\r\n \r\n .line-highlight {\r\n   background: rgba(193, 222, 241, 0.2);\r\n   background: -webkit-linear-gradient(left, rgba(193, 222, 241, 0.2) 70%, rgba(221, 222, 241, 0));\r\n   background: linear-gradient(to right, rgba(193, 222, 241, 0.2) 70%, rgba(221, 222, 241, 0));\r\n }\r\n',lineNumbersStyle='pre[class*="language-"].line-numbers {\r\n	position: relative;\r\n	padding-left: 3.8em;\r\n	counter-reset: linenumber;\r\n}\r\n\r\npre[class*="language-"].line-numbers > div {\r\n	position: relative;\r\n	white-space: inherit;\r\n}\r\n\r\n.line-numbers .line-numbers-rows {\r\n	position: absolute;\r\n	pointer-events: none;\r\n	top: 0;\r\n	font-size: 100%;\r\n	left: -3.8em;\r\n	width: 3em; /* works for line-numbers below 1000 lines */\r\n	letter-spacing: -1px;\r\n	border-right: 1px solid #999;\r\n\r\n	-webkit-user-select: none;\r\n	-moz-user-select: none;\r\n	-ms-user-select: none;\r\n	user-select: none;\r\n\r\n}\r\n\r\n	.line-numbers-rows > span {\r\n		pointer-events: none;\r\n		display: block;\r\n		counter-increment: linenumber;\r\n	}\r\n\r\n		.line-numbers-rows > span:before {\r\n			content: counter(linenumber);\r\n			color: #999;\r\n			display: block;\r\n			padding-right: 0.8em;\r\n			text-align: right;\r\n		}\r\n',matchBracesStyle=".token.punctuation.brace-hover,\r\n.token.punctuation.brace-selected {\r\n	outline: solid 1px;\r\n}\r\n\r\n.rainbow-braces .token.punctuation.brace-level-1,\r\n.rainbow-braces .token.punctuation.brace-level-5,\r\n.rainbow-braces .token.punctuation.brace-level-9 {\r\n	color: #E50;\r\n	opacity: 1;\r\n}\r\n.rainbow-braces .token.punctuation.brace-level-2,\r\n.rainbow-braces .token.punctuation.brace-level-6,\r\n.rainbow-braces .token.punctuation.brace-level-10 {\r\n	color: #0B3;\r\n	opacity: 1;\r\n}\r\n.rainbow-braces .token.punctuation.brace-level-3,\r\n.rainbow-braces .token.punctuation.brace-level-7,\r\n.rainbow-braces .token.punctuation.brace-level-11 {\r\n	color: #26F;\r\n	opacity: 1;\r\n}\r\n.rainbow-braces .token.punctuation.brace-level-4,\r\n.rainbow-braces .token.punctuation.brace-level-8,\r\n.rainbow-braces .token.punctuation.brace-level-12 {\r\n	color: #E0E;\r\n	opacity: 1;\r\n}\r\n",mainStyle=':host {\r\n  display: block;\r\n  border: 1px black solid;\r\n  border-radius: .5ex;\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\r\n  resize: both;\r\n  overflow: auto;\r\n}\r\n\r\n#source-wrapper {\r\n  width: calc(100% - 2em - 2px);\r\n  height: calc(100% - 2px);\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n#source-wrapper.line-numbers {\r\n  width: calc(100% - 4.8em - 2px);\r\n  margin: 0;\r\n}\r\n\r\n#source {\r\n  font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Ubuntu Mono", "Liberation Mono", "Lucida Console", "Courier New", monospace;\r\n  tab-size: 2;\r\n  overflow-y: visible !important;\r\n}\r\n',PLUGIN_NAME="line-numbers",NEW_LINE_EXP=/\n(?!$)/g,_resizeElement=function(e){var n=getStyles(e)["white-space"];if("pre-wrap"===n||"pre-line"===n){var t=e.querySelector(Prism.codeTag),r=e.querySelector(".line-numbers-rows"),a=e.querySelector(".line-numbers-sizer"),o=t.textContent.split(NEW_LINE_EXP);a||((a=document.createElement("span")).className="line-numbers-sizer",t.appendChild(a)),a.style.display="block",o.forEach(function(e,n){a.textContent=e||"\n";var t=a.getBoundingClientRect().height;r.children[n].style.height=t+"px"}),a.textContent="",a.style.display="none"}},getStyles=function(e){return e?window.getComputedStyle?getComputedStyle(e):e.currentStyle||null:null};Prism.hooks.add("complete",function(e){if(e.code){var n,t=e.element,r=t.parentNode;if(!(!r||!/pre/i.test(r.nodeName)||t.querySelector(".line-numbers-rows"))){for(var a=!1,o=/(?:^|\s)line-numbers(?:\s|$)/,i=t;i;i=i.parentNode)if(o.test(i.className)){a=!0;break}if(a){t.className=t.className.replace(o," "),o.test(r.className)||(r.className+=" line-numbers");var l=e.code.match(NEW_LINE_EXP),s=Array((l?l.length+1:1)+1).join("<span></span>");(n=document.createElement("span")).setAttribute("aria-hidden","true"),n.className="line-numbers-rows",n.innerHTML=s,r.hasAttribute("data-start")&&(r.style.counterReset="linenumber "+(parseInt(r.getAttribute("data-start"),10)-1)),e.element.appendChild(n),_resizeElement(r),Prism.hooks.run("line-numbers",e)}}}}),Prism.hooks.add("line-numbers",function(e){e.plugins=e.plugins||{},e.plugins.lineNumbers=!0}),Prism.plugins.lineNumbers={updateLineNumbers:function(e){_resizeElement(e)},getLine:function(e,n){if("PRE"===e.tagName&&e.classList.contains(PLUGIN_NAME)){var t=e.querySelector(".line-numbers-rows"),r=parseInt(e.getAttribute("data-start"),10)||1,a=r+(t.children.length-1);n<r&&(n=r),n>a&&(n=a);var o=n-r;return t.children[o]}}};var MATCH_ALL_CLASS=/(?:^|\s)match-braces(?:\s|$)/,BRACE_HOVER_CLASS=/(?:^|\s)brace-hover(?:\s|$)/,BRACE_SELECTED_CLASS=/(?:^|\s)brace-selected(?:\s|$)/,NO_BRACE_HOVER_CLASS=/(?:^|\s)no-brace-hover(?:\s|$)/,NO_BRACE_SELECT_CLASS=/(?:^|\s)no-brace-select(?:\s|$)/,PARTNER={"(":")","[":"]","{":"}"},NAMES={"(":"brace-round","[":"brace-square","{":"brace-curly"},LEVEL_WARP=12,pairIdCounter=0,BRACE_ID_PATTERN=/^(pair-\d+-)(open|close)$/;function getPartnerBrace(e){var n=BRACE_ID_PATTERN.exec(e.id);return e.parentElement.querySelector("#"+n[1]+("open"==n[2]?"close":"open"))}function hoverBrace(){for(var e=this.parentElement;e;e=e.parentElement)if(NO_BRACE_HOVER_CLASS.test(e.className))return;[this,getPartnerBrace(this)].forEach(function(e){e.className=(e.className.replace(BRACE_HOVER_CLASS," ")+" brace-hover").replace(/\s+/g," ")})}function leaveBrace(){[this,getPartnerBrace(this)].forEach(function(e){e.className=e.className.replace(BRACE_HOVER_CLASS," ")})}function clickBrace(){for(var e=this.parentElement;e;e=e.parentElement)if(NO_BRACE_SELECT_CLASS.test(e.className))return;[this,getPartnerBrace(this)].forEach(function(e){e.className=(e.className.replace(BRACE_SELECTED_CLASS," ")+" brace-selected").replace(/\s+/g," ")})}Prism.hooks.add("complete",function(e){var n=e.element,t=n.parentElement;if(t&&"PRE"==t.tagName){for(var r=[],a=n;a;a=a.parentElement)if(MATCH_ALL_CLASS.test(a.className)){r.push("(","[","{");break}if(0!=r.length){t.__listenerAdded||(t.addEventListener("mousedown",function(){var e=t.querySelector(Prism.codeTag);Array.prototype.slice.call(e.querySelectorAll(".brace-selected")).forEach(function(e){e.className=e.className.replace(BRACE_SELECTED_CLASS," ")})}),Object.defineProperty(t,"__listenerAdded",{value:!0}));var o=Array.prototype.slice.call(n.querySelectorAll("span.token.punctuation")),i=[];r.forEach(function(e){for(var n=PARTNER[e],t=NAMES[e],r=[],a=[],l=0;l<o.length;l++){var s=o[l];if(0==s.childElementCount){var c=s.textContent;c===e?(i.push({index:l,open:!0,element:s}),s.className+=" "+t,s.className+=" brace-open",a.push(l)):c===n&&(i.push({index:l,open:!1,element:s}),s.className+=" "+t,s.className+=" brace-close",a.length&&r.push([l,a.pop()]))}}r.forEach(function(e){var n="pair-"+pairIdCounter+++"-",t=o[e[0]],r=o[e[1]];t.id=n+"open",r.id=n+"close",[t,r].forEach(function(e){e.addEventListener("mouseenter",hoverBrace),e.addEventListener("mouseleave",leaveBrace),e.addEventListener("click",clickBrace)})})});var l=0;i.sort(function(e,n){return e.index-n.index}),i.forEach(function(e){e.open?(e.element.className+=" brace-level-"+(l%LEVEL_WARP+1),l++):(l=Math.max(0,l-1),e.element.className+=" brace-level-"+(l%LEVEL_WARP+1))})}}}),Prism.languages.graphviz={comment:[{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:digraph|graph)\s+)\w+/,lookbehind:!0},keyword:/\b(?:digraph|graph|node|edge)\b/,property:/\b(?:Damping|URL|area|arrowhead|arrowsize|arrowtail|aspect|bb|bgcolor|center|charset|clusterrank|color|colorscheme|comment|compound|concentrate|constraint|decorate|defaultdist|dim|dimen|dir|diredgeconstraints|distortion|dpi|edgeURL|edgehref|edgetarget|edgetooltip|epsilon|esep|fillcolor|fixedsize|fontcolor|fontname|fontnames|fontpath|fontsize|group|headURL|headclip|headhref|headlabel|headport|headtarget|headtooltip|height|href|id|image|imagepath|imagescale|label|labelURL|labelangle|labeldistance|labelfloat|labelfontcolor|labelfontname|labelfontsize|labelhref|labeljust|labelloc|labeltarget|labeltooltip|landscape|layer|layerlistsep|layers|layerselect|layersep|layout|len|levels|levelsgap|lhead|lheight|lp|ltail|lwidth|margin|maxiter|mclimit|mindist|minlen|mode|model|mosek|nodesep|nojustify|normalize|nslimit|nslimit1|ordering|orientation|outputorder|overlap|overlap_scaling|pack|packmode|pad|page|pagedir|pencolor|penwidth|peripheries|pin|pos|quadtree|quantum|rank|rankdir|ranksep|ratio|rects|regular|remincross|repulsiveforce|resolution|root|rotate|rotation|samehead|sametail|samplepoints|scale|searchsize|sep|shape|shapefile|showboxes|sides|size|skew|smoothing|sortv|splines|start|style|stylesheet|tail_lp|tailURL|tailclip|tailhref|taillabel|tailport|tailtarget|tailtooltip|target|tooltip|truecolor|vertices|viewport|voro_margin|weight|width|xlabel)\b/,constant:/\b(?:dot|neato|fdp|sfdp|twopi|circo|osage|patchwork|LR|RL|TB|BT|box|polygon|ellipse|oval|circle|point|egg|triangle|plaintext|plain|diamond|trapezium|parallelogram|house|pentagon|hexagon|septagon|octagon|doublecircle|doubleoctagon|tripleoctagon|invtriangle|invtrapezium|invhouse|Mdiamond|Msquare|Mcircle|rect|rectangle|square|star|none|underline|cylinder|note|tab|folder|box3d|component|promoter|cds|terminator|utr|primersite|restrictionsite|fivepoverhang|threepoverhang|noverhang|assembly|signature|insulator|ribosite|rnastab|proteasesite|proteinstab|rpromoter|rarrow|larrow|lpromoter|solid|dashed|dotted|bold|rounded|diagonals|filled|striped|wedged)\b/,boolean:/\b(?:true|yes|false|no)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/->|--|=/,punctuation:/[{}[\];(),.:]/};let features=["line-numbers","match-braces","rainbow-braces"],connectedKey=Symbol("connecte"),valueKey=Symbol("value"),tabKey=Symbol("tab"),classKey=Symbol("class"),jarKey=Symbol("jar"),widthKey=Symbol("width"),heightKey=Symbol("height"),mousedownKey=Symbol("mousedown"),mouseupKey=Symbol("mouseup");function getTemplate(){return template||((template=document.createElement("template")).innerHTML=`<style>
${lightTheme}
${lineNumbersStyle}
${matchBracesStyle}
${mainStyle}
</style>
<pre id=source-wrapper><div id=source></div></pre>`),template}function triggerEvent(e,n,t){e.dispatchEvent(new CustomEvent(n,{detail:t}))}function getFeatureClasses(e){return e.className.trim().split(/\s+/).filter(e=>features.includes(e)).join(" ")}function hasChangedFeatureClass(e,n){let t=e?e.trim().split(/\s+/):[],r=n.trim().split(/\s+/);return features.some(e=>t.includes(e)!==r.includes(e))}function normalizeLineBreaks(e){return e.replace(/\r?\n/,"\n")}function createEditor(e){let n=e.shadowRoot,t=n.getElementById("source"),r=getFeatureClasses(e);t.className=`language-graphviz ${r}`;let a=e[jarKey]=CodeJar(t,Prism.highlightElement,{tab:e.tab,ownerRoot:n});updateEditor(e),a.onUpdate(n=>{n=normalizeLineBreaks(n),e.value!==n&&(e[valueKey]=n,triggerEvent(e,"input",n))})}function destroyEditor(e){e[jarKey].destroy(),e[jarKey]=null}function rebuildEditor(e){destroyEditor(e),createEditor(e)}function updateEditor(e){e[jarKey].updateCode(e.value)}function configureEditor(e){e[jarKey].updateOptions({tab:e.tab})}Prism.codeTag="div";class GraphvizScriptEditorElement extends HTMLElement{constructor(){super(),this[valueKey]="",this[tabKey]="  ",this[classKey]="",this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(getTemplate().content.cloneNode(!0))}get value(){return this[valueKey]}set value(e){this.setAttribute("value",e)}get tab(){return this[tabKey]}set tab(e){this.setAttribute("tab",e)}get className(){return this[classKey]}set className(e){this.setAttribute("class",e)}attributeChangedCallback(e,n,t){switch(e){case"value":this[valueKey]=normalizeLineBreaks(t),this[connectedKey]&&updateEditor(this);break;case"tab":this[tabKey]=t,this[connectedKey]&&configureEditor(this);break;case"class":this[classKey]=t,this[connectedKey]&&hasChangedFeatureClass(n,t)&&rebuildEditor(this)}}connectedCallback(){registerEvents(this),createEditor(this),this[connectedKey]=!0}disconnectedCallback(){destroyEditor(this),unregisterEvents(this),this[connectedKey]=!1}static get observedAttributes(){return["value","tab","class"]}}function rememberSize(e){e[widthKey]=e.clientWidth,e[heightKey]=e.clientHeight}function updateLineNumbers(e){let n=e.clientWidth,t=e.clientHeight;(n!==e[widthKey]||t!==e[heightKey])&&(Prism.plugins.lineNumbers.updateLineNumbers(e.shadowRoot.getElementById("source-wrapper")),e[widthKey]=n,e[heightKey]=t)}function registerEvents(e){let n=e[mousedownKey]=()=>rememberSize(e),t=e[mouseupKey]=()=>updateLineNumbers(e);e.addEventListener("mousedown",n),e.addEventListener("mouseup",t)}function unregisterEvents(e){e.removeEventListener("mouseup",e[mouseupKey]),e.removeEventListener("mousedown",e[mousedownKey])}function updateAllLineNumbers(){clearTimeout(pendingAllLineNumbersUpdate);let e=document.querySelectorAll("graphviz-script-editor.line-numbers");for(let n of e)updateLineNumbers(n)}function scheduleUpdateAllLineNumbers(){pendingAllLineNumbersUpdate&&clearTimeout(pendingAllLineNumbersUpdate),pendingAllLineNumbersUpdate=setTimeout(updateAllLineNumbers,300)}addEventListener("resize",scheduleUpdateAllLineNumbers),customElements.define("graphviz-script-editor",GraphvizScriptEditorElement);export{GraphvizGraphElement,GraphvizScriptEditorElement};
//# sourceMappingURL=index.min.mjs.map
