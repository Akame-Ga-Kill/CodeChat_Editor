{"version":3,"file":"index.min.mjs","sources":["../src/separate-engine.js","../src/script-editor.js","../src/graph.js","../src/codejar/codejar.js","../src/prism/prism-core.js","../src/prism/prism-line-numbers.js","../src/prism/prism-match-braces.js","../src/prism/prism-graphviz.js"],"sourcesContent":["const { delayWorkerLoading } = window.graphvizWebComponent || {}\r\nlet renderer, rendererUrl\r\n\r\nif (!delayWorkerLoading) setTimeout(getRenderer)\r\n\r\nfunction ensureConfiguration () {\r\n  if (!rendererUrl) {\r\n    ({\r\n      rendererUrl = 'https://unpkg.com/graphviz-webcomponent@1.1.0/dist/renderer.min.js'\r\n    } = window.graphvizWebComponent || {})\r\n  }\r\n}\r\n\r\nexport default function getRenderer () {\r\n  if (!renderer) {\r\n    ensureConfiguration()\r\n    renderer = new Worker(rendererUrl)\r\n  }\r\n  return renderer\r\n}\r\n","import { CodeJar } from './codejar/codejar'\r\nimport Prism from './prism/prism-core'\r\nimport lightTheme from './prism/prism-light.css'\r\nimport lineNumbersStyle from './prism/prism-line-numbers.css'\r\nimport matchBracesStyle from './prism/prism-match-braces.css'\r\nimport mainStyle from './script-editor.css'\r\nimport './prism/prism-line-numbers'\r\nimport './prism/prism-match-braces'\r\nimport './prism/prism-graphviz'\r\n\r\nconst features = ['line-numbers', 'match-braces', 'rainbow-braces']\r\nconst connectedKey = Symbol('connecte')\r\nconst valueKey = Symbol('value')\r\nconst tabKey = Symbol('tab')\r\nconst classKey = Symbol('class')\r\nconst jarKey = Symbol('jar')\r\nconst widthKey = Symbol('width')\r\nconst heightKey = Symbol('height')\r\nconst mousedownKey = Symbol('mousedown')\r\nconst mouseupKey = Symbol('mouseup')\r\nlet template, pendingAllLineNumbersUpdate\r\n\r\nPrism.codeTag = 'div'\r\n\r\nfunction getTemplate () {\r\n  if (!template) {\r\n    template = document.createElement('template')\r\n    template.innerHTML = `<style>\r\n${lightTheme}\r\n${lineNumbersStyle}\r\n${matchBracesStyle}\r\n${mainStyle}\r\n</style>\r\n<pre id=source-wrapper><div id=source></div></pre>`\r\n  }\r\n  return template\r\n}\r\n\r\nfunction triggerEvent (element, type, detail) {\r\n  element.dispatchEvent(new CustomEvent(type, { detail }))\r\n}\r\n\r\nfunction getFeatureClasses (element) {\r\n  return element.className\r\n    .trim()\r\n    .split(/\\s+/)\r\n    .filter(feature => features.includes(feature))\r\n    .join(' ')\r\n}\r\n\r\nfunction hasChangedFeatureClass (oldValue, newValue) {\r\n  const oldClasses = oldValue ? oldValue.trim().split(/\\s+/) : []\r\n  const newClasses = newValue.trim().split(/\\s+/)\r\n  return features.some(feature =>\r\n    oldClasses.includes(feature) !== newClasses.includes(feature))\r\n}\r\n\r\nfunction normalizeLineBreaks (value) {\r\n  return value.replace(/\\r?\\n/, '\\n')\r\n}\r\n\r\nfunction createEditor (element) {\r\n  const ownerRoot = element.shadowRoot\r\n  const source = ownerRoot.getElementById('source')\r\n  const featureClasses = getFeatureClasses(element)\r\n  source.className = `language-graphviz ${featureClasses}`\r\n  const jar = element[jarKey] = CodeJar(source, Prism.highlightElement, { tab: element.tab, ownerRoot })\r\n  updateEditor(element)\r\n  jar.onUpdate(newCode => {\r\n    newCode = normalizeLineBreaks(newCode)\r\n    if (element.value !== newCode) {\r\n      element[valueKey] = newCode\r\n      triggerEvent(element, 'input', newCode)\r\n    }\r\n  })\r\n}\r\n\r\nfunction destroyEditor (element) {\r\n  element[jarKey].destroy()\r\n  element[jarKey] = null\r\n}\r\n\r\nfunction rebuildEditor (element) {\r\n  destroyEditor(element)\r\n  createEditor(element)\r\n}\r\n\r\nfunction updateEditor (element) {\r\n  element[jarKey].updateCode(element.value)\r\n}\r\n\r\nfunction configureEditor (element) {\r\n  element[jarKey].updateOptions({ tab: element.tab })\r\n}\r\n\r\nclass GraphvizScriptEditorElement extends HTMLElement {\r\n  constructor () {\r\n    super()\r\n    this[valueKey] = ''\r\n    this[tabKey] = '  '\r\n    this[classKey] = ''\r\n    this.attachShadow({ mode: 'open' })\r\n    this.shadowRoot.appendChild(getTemplate().content.cloneNode(true))\r\n  }\r\n\r\n  get value () { return this[valueKey] }\r\n  set value (value) { this.setAttribute('value', value) }\r\n\r\n  get tab () { return this[tabKey] }\r\n  set tab (value) { this.setAttribute('tab', value) }\r\n\r\n  get className () { return this[classKey] }\r\n  set className (value) { this.setAttribute('class', value) }\r\n\r\n  attributeChangedCallback (name, oldValue, newValue) {\r\n    switch (name) {\r\n      case 'value':\r\n        this[valueKey] = normalizeLineBreaks(newValue)\r\n        if (this[connectedKey]) updateEditor(this)\r\n        break\r\n      case 'tab':\r\n        this[tabKey] = newValue\r\n        if (this[connectedKey]) configureEditor(this)\r\n        break\r\n      case 'class':\r\n        this[classKey] = newValue\r\n        if (this[connectedKey] && hasChangedFeatureClass(oldValue, newValue)) rebuildEditor(this)\r\n        break\r\n    }\r\n  }\r\n\r\n  connectedCallback () {\r\n    registerEvents(this)\r\n    createEditor(this)\r\n    this[connectedKey] = true\r\n  }\r\n\r\n  disconnectedCallback () {\r\n    destroyEditor(this)\r\n    unregisterEvents(this)\r\n    this[connectedKey] = false\r\n  }\r\n\r\n  static get observedAttributes () { return ['value', 'tab', 'class'] }\r\n}\r\n\r\nfunction rememberSize (element) {\r\n  element[widthKey] = element.clientWidth\r\n  element[heightKey] = element.clientHeight\r\n}\r\n\r\nfunction updateLineNumbers (element) {\r\n  const newWidth = element.clientWidth\r\n  const newHeight = element.clientHeight\r\n  if (newWidth !== element[widthKey] || newHeight !== element[heightKey]) {\r\n    Prism.plugins.lineNumbers.updateLineNumbers(element.shadowRoot.getElementById('source-wrapper'))\r\n    element[widthKey] = newWidth\r\n    element[heightKey] = newHeight\r\n  }\r\n}\r\n\r\nfunction registerEvents (element) {\r\n  const mousedown = element[mousedownKey] = () => rememberSize(element)\r\n  const mouseup = element[mouseupKey] = () => updateLineNumbers(element)\r\n  element.addEventListener('mousedown', mousedown)\r\n  element.addEventListener('mouseup', mouseup)\r\n}\r\n\r\nfunction unregisterEvents (element) {\r\n  element.removeEventListener('mouseup', element[mouseupKey])\r\n  element.removeEventListener('mousedown', element[mousedownKey])\r\n}\r\n\r\nfunction updateAllLineNumbers () {\r\n  clearTimeout(pendingAllLineNumbersUpdate)\r\n  const editors = document.querySelectorAll('graphviz-script-editor.line-numbers')\r\n  for (const editor of editors) updateLineNumbers(editor)\r\n}\r\n\r\nfunction scheduleUpdateAllLineNumbers () {\r\n  if (pendingAllLineNumbersUpdate) clearTimeout(pendingAllLineNumbersUpdate)\r\n  pendingAllLineNumbersUpdate = setTimeout(updateAllLineNumbers, 300)\r\n}\r\n\r\naddEventListener('resize', scheduleUpdateAllLineNumbers)\r\n\r\ncustomElements.define('graphviz-script-editor', GraphvizScriptEditorElement)\r\n\r\nexport default GraphvizScriptEditorElement\r\n","import getRenderer from \"./separate-engine\";\r\n\r\nconst graphKey = Symbol(\"graph\");\r\nconst scaleKey = Symbol(\"scale\");\r\n// Use this to assign a unique ID to each render.\r\nlet render_id = Number.MIN_SAFE_INTEGER;\r\n\r\nfunction requestRendering(element, script, receiveResult) {\r\n  const renderer = getRenderer();\r\n  renderer.addEventListener(\"message\", receiveResult);\r\n  renderer.postMessage({ script: script || element.graph, render_id });\r\n  return render_id++;\r\n}\r\n\r\nfunction closeRendering(receiveResult) {\r\n  const renderer = getRenderer();\r\n  renderer.removeEventListener(\"message\", receiveResult);\r\n}\r\n\r\nfunction triggerEvent(element, type, detail) {\r\n  element.dispatchEvent(new CustomEvent(type, { detail }));\r\n}\r\n\r\nfunction applyScale(element) {\r\n  const svg = element.shadowRoot.children[0];\r\n  const scale = element.scale;\r\n  if (svg) {\r\n    if (scale) {\r\n      svg.style.transform = `scale(${scale})`;\r\n      svg.style.transformOrigin = \"top left\";\r\n    } else {\r\n      svg.style.transform = \"\";\r\n      svg.style.transformOrigin = \"\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction showImage(element, svg) {\r\n  element.shadowRoot.innerHTML = svg;\r\n  applyScale(element);\r\n  triggerEvent(element, \"render\", svg);\r\n}\r\n\r\nfunction showError(element, error) {\r\n  console.error(\"Graphviz failed:\", error);\r\n  element.shadowRoot.innerHTML = error.message;\r\n  return triggerEvent(element, \"error\", error);\r\n}\r\n\r\nfunction updateGraph(element) {\r\n  return new Promise((resolve) => {\r\n    element.shadowRoot.innerHTML = \"\";\r\n    if (!element.graph) return resolve();\r\n    const assigned_render_id = requestRendering(\r\n      element,\r\n      undefined,\r\n      receiveResult\r\n    );\r\n\r\n    function receiveResult({ data }) {\r\n      const { svg, error, render_id } = data;\r\n      if (assigned_render_id !== render_id) {\r\n        // This render was for a different request. Ignore it.\r\n        return;\r\n      }\r\n      closeRendering(receiveResult);\r\n      if (error) {\r\n        error.message = error.message.trim();\r\n        showError(element, error);\r\n        return resolve(error);\r\n      }\r\n      showImage(element, svg);\r\n      resolve(svg);\r\n    }\r\n  });\r\n}\r\n\r\nfunction tryUpdateGraph(element, script) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!script) {\r\n      element[graphKey] = \"\";\r\n      element.shadowRoot.innerHTML = \"\";\r\n      return resolve();\r\n    }\r\n    const assigned_render_id = requestRendering(element, script, receiveResult);\r\n\r\n    function receiveResult({ data }) {\r\n      const { svg, error, render_id } = data;\r\n      if (assigned_render_id !== render_id) {\r\n        // This render was for a different request. Ignore it.\r\n        return;\r\n      }\r\n      closeRendering(receiveResult);\r\n      if (error) return reject(error);\r\n      element[graphKey] = script;\r\n      showImage(element, svg);\r\n      resolve(svg);\r\n    }\r\n  });\r\n}\r\n\r\nclass GraphvizGraphElement extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: \"open\" });\r\n    this.graphCompleted = Promise.resolve();\r\n  }\r\n\r\n  get graph() {\r\n    return this[graphKey];\r\n  }\r\n  set graph(value) {\r\n    this.setAttribute(\"graph\", value);\r\n  }\r\n\r\n  get scale() {\r\n    return this[scaleKey];\r\n  }\r\n  set scale(value) {\r\n    this.setAttribute(\"scale\", value);\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    switch (name) {\r\n      case \"graph\":\r\n        this[graphKey] = newValue;\r\n        this.graphCompleted = updateGraph(this).catch((error) => error);\r\n        break;\r\n      case \"scale\":\r\n        this[scaleKey] = newValue;\r\n        applyScale(this);\r\n    }\r\n  }\r\n\r\n  tryGraph(graph) {\r\n    const promise = tryUpdateGraph(this, graph);\r\n    this.graphCompleted = promise.catch((error) => error);\r\n    return promise;\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return [\"graph\", \"scale\"];\r\n  }\r\n}\r\n\r\ncustomElements.define(\"graphviz-graph\", GraphvizGraphElement);\r\n\r\nexport default GraphvizGraphElement;\r\n","export function CodeJar(editor, highlight, opt = {}) {\r\n    const options = Object.assign({ tab: \"\\t\", ownerRoot: window }, opt);\r\n    // only Chrome supports shadowRoot.getSelection\r\n    if (typeof options.ownerRoot.getSelection !== 'function') {\r\n        options.ownerRoot = options.ownerRoot.ownerDocument;\r\n        if (typeof options.ownerRoot.getSelection !== 'function') {\r\n            throw new Error('Impossible to access text selections.');\r\n        }\r\n    }\r\n    let listeners = [];\r\n    let history = [];\r\n    let at = -1;\r\n    let focus = false;\r\n    let callback;\r\n    let prev; // code content prior keydown event\r\n    let isFirefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\r\n    editor.setAttribute(\"contentEditable\", isFirefox ? \"true\" : \"plaintext-only\");\r\n    editor.setAttribute(\"spellcheck\", \"false\");\r\n    editor.style.outline = \"none\";\r\n    editor.style.overflowWrap = \"break-word\";\r\n    editor.style.overflowY = \"auto\";\r\n    editor.style.resize = \"vertical\";\r\n    editor.style.whiteSpace = \"pre-wrap\";\r\n    highlight(editor);\r\n    const debounceHighlight = debounce(() => {\r\n        const pos = save();\r\n        highlight(editor);\r\n        restore(pos);\r\n    }, 30);\r\n    let recording = false;\r\n    const shouldRecord = (event) => {\r\n        return !isUndo(event) && !isRedo(event)\r\n            && event.key !== \"Meta\"\r\n            && event.key !== \"Control\"\r\n            && event.key !== \"Alt\"\r\n            && !event.key.startsWith(\"Arrow\");\r\n    };\r\n    const debounceRecordHistory = debounce((event) => {\r\n        if (shouldRecord(event)) {\r\n            recordHistory();\r\n            recording = false;\r\n        }\r\n    }, 300);\r\n    const on = (type, fn) => {\r\n        listeners.push([type, fn]);\r\n        editor.addEventListener(type, fn);\r\n    };\r\n    on(\"keydown\", event => {\r\n        if (event.defaultPrevented)\r\n            return;\r\n        prev = toString();\r\n        handleNewLine(event);\r\n        handleTabCharacters(event);\r\n        handleJumpToBeginningOfLine(event);\r\n        handleSelfClosingCharacters(event);\r\n        handleUndoRedo(event);\r\n        if (shouldRecord(event) && !recording) {\r\n            recordHistory();\r\n            recording = true;\r\n        }\r\n    });\r\n    on(\"keyup\", event => {\r\n        if (event.defaultPrevented)\r\n            return;\r\n        if (event.isComposing)\r\n            return;\r\n        if (prev !== toString())\r\n            debounceHighlight();\r\n        debounceRecordHistory(event);\r\n        if (callback)\r\n            callback(toString());\r\n    });\r\n    on(\"focus\", _event => {\r\n        focus = true;\r\n    });\r\n    on(\"blur\", _event => {\r\n        focus = false;\r\n    });\r\n    on(\"paste\", event => {\r\n        recordHistory();\r\n        handlePaste(event);\r\n        recordHistory();\r\n        if (callback)\r\n            callback(toString());\r\n    });\r\n    function save() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const pos = { start: 0, end: 0, dir: undefined };\r\n        visit(editor, el => {\r\n            if (el === s.anchorNode && el === s.focusNode) {\r\n                pos.start += s.anchorOffset;\r\n                pos.end += s.focusOffset;\r\n                pos.dir = s.anchorOffset <= s.focusOffset ? \"->\" : \"<-\";\r\n                return \"stop\";\r\n            }\r\n            if (el === s.anchorNode) {\r\n                pos.start += s.anchorOffset;\r\n                if (!pos.dir) {\r\n                    pos.dir = \"->\";\r\n                }\r\n                else {\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            else if (el === s.focusNode) {\r\n                pos.end += s.focusOffset;\r\n                if (!pos.dir) {\r\n                    pos.dir = \"<-\";\r\n                }\r\n                else {\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            if (el.nodeType === Node.TEXT_NODE) {\r\n                if (pos.dir != \"->\")\r\n                    pos.start += el.nodeValue.length;\r\n                if (pos.dir != \"<-\")\r\n                    pos.end += el.nodeValue.length;\r\n            }\r\n        });\r\n        return pos;\r\n    }\r\n    function restore(pos) {\r\n        const s = options.ownerRoot.getSelection();\r\n        let startNode, startOffset = 0;\r\n        let endNode, endOffset = 0;\r\n        if (!pos.dir)\r\n            pos.dir = \"->\";\r\n        if (pos.start < 0)\r\n            pos.start = 0;\r\n        if (pos.end < 0)\r\n            pos.end = 0;\r\n        // Flip start and end if the direction reversed\r\n        if (pos.dir == \"<-\") {\r\n            const { start, end } = pos;\r\n            pos.start = end;\r\n            pos.end = start;\r\n        }\r\n        let current = 0;\r\n        visit(editor, el => {\r\n            if (el.nodeType !== Node.TEXT_NODE)\r\n                return;\r\n            const len = (el.nodeValue || \"\").length;\r\n            if (current + len >= pos.start) {\r\n                if (!startNode) {\r\n                    startNode = el;\r\n                    startOffset = pos.start - current;\r\n                }\r\n                if (current + len >= pos.end) {\r\n                    endNode = el;\r\n                    endOffset = pos.end - current;\r\n                    return \"stop\";\r\n                }\r\n            }\r\n            current += len;\r\n        });\r\n        // If everything deleted place cursor at editor\r\n        if (!startNode)\r\n            startNode = editor;\r\n        if (!endNode)\r\n            endNode = editor;\r\n        // Flip back the selection\r\n        if (pos.dir == \"<-\") {\r\n            [startNode, startOffset, endNode, endOffset] = [endNode, endOffset, startNode, startOffset];\r\n        }\r\n        s.setBaseAndExtent(startNode, startOffset, endNode, endOffset);\r\n    }\r\n    function beforeCursor() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const r0 = s.getRangeAt(0);\r\n        const r = document.createRange();\r\n        r.selectNodeContents(editor);\r\n        r.setEnd(r0.startContainer, r0.startOffset);\r\n        return r.toString();\r\n    }\r\n    function afterCursor() {\r\n        const s = options.ownerRoot.getSelection();\r\n        const r0 = s.getRangeAt(0);\r\n        const r = document.createRange();\r\n        r.selectNodeContents(editor);\r\n        r.setStart(r0.endContainer, r0.endOffset);\r\n        return r.toString();\r\n    }\r\n    function handleNewLine(event) {\r\n        if (event.key === \"Enter\") {\r\n            const before = beforeCursor();\r\n            const after = afterCursor();\r\n            let [padding] = findPadding(before);\r\n            let newLinePadding = padding;\r\n            // If last symbol is \"{\" ident new line\r\n            if (before[before.length - 1] === \"{\") {\r\n                newLinePadding += options.tab;\r\n            }\r\n            if (isFirefox) {\r\n                preventDefault(event);\r\n                insert(\"\\n\" + newLinePadding);\r\n            }\r\n            else {\r\n                // Normal browsers\r\n                if (newLinePadding.length > 0) {\r\n                    preventDefault(event);\r\n                    insert(\"\\n\" + newLinePadding);\r\n                }\r\n            }\r\n            // Place adjacent \"}\" on next line\r\n            if (newLinePadding !== padding && after[0] === \"}\") {\r\n                const pos = save();\r\n                insert(\"\\n\" + padding);\r\n                restore(pos);\r\n            }\r\n        }\r\n    }\r\n    function handleSelfClosingCharacters(event) {\r\n        const open = `([{'\"`;\r\n        const close = `)]}'\"`;\r\n        const codeAfter = afterCursor();\r\n        if (close.includes(event.key) && codeAfter.substr(0, 1) === event.key) {\r\n            const pos = save();\r\n            preventDefault(event);\r\n            pos.start = ++pos.end;\r\n            restore(pos);\r\n        }\r\n        else if (open.includes(event.key)) {\r\n            const pos = save();\r\n            preventDefault(event);\r\n            const text = event.key + close[open.indexOf(event.key)];\r\n            insert(text);\r\n            pos.start = ++pos.end;\r\n            restore(pos);\r\n        }\r\n    }\r\n    function handleTabCharacters(event) {\r\n        if (event.key === \"Tab\") {\r\n            preventDefault(event);\r\n            if (event.shiftKey) {\r\n                const before = beforeCursor();\r\n                let [padding, start,] = findPadding(before);\r\n                if (padding.length > 0) {\r\n                    const pos = save();\r\n                    // Remove full length tab or just remaining padding\r\n                    const len = Math.min(options.tab.length, padding.length);\r\n                    restore({ start, end: start + len });\r\n                    document.execCommand(\"delete\");\r\n                    pos.start -= len;\r\n                    pos.end -= len;\r\n                    restore(pos);\r\n                }\r\n            }\r\n            else {\r\n                insert(options.tab);\r\n            }\r\n        }\r\n    }\r\n    function handleJumpToBeginningOfLine(event) {\r\n        if (event.key === \"ArrowLeft\" && event.metaKey) {\r\n            preventDefault(event);\r\n            const before = beforeCursor();\r\n            let [padding, start, end] = findPadding(before);\r\n            if (before.endsWith(padding)) {\r\n                if (event.shiftKey) {\r\n                    const pos = save();\r\n                    restore({ start, end: pos.end }); // Select from line start.\r\n                }\r\n                else {\r\n                    restore({ start, end: start }); // Jump to line start.\r\n                }\r\n            }\r\n            else {\r\n                if (event.shiftKey) {\r\n                    const pos = save();\r\n                    restore({ start: end, end: pos.end }); // Select from beginning of text.\r\n                }\r\n                else {\r\n                    restore({ start: end, end }); // Jump to beginning of text.\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleUndoRedo(event) {\r\n        if (isUndo(event)) {\r\n            preventDefault(event);\r\n            at--;\r\n            const record = history[at];\r\n            if (record) {\r\n                editor.innerHTML = record.html;\r\n                restore(record.pos);\r\n            }\r\n            if (at < 0)\r\n                at = 0;\r\n        }\r\n        if (isRedo(event)) {\r\n            preventDefault(event);\r\n            at++;\r\n            const record = history[at];\r\n            if (record) {\r\n                editor.innerHTML = record.html;\r\n                restore(record.pos);\r\n            }\r\n            if (at >= history.length)\r\n                at--;\r\n        }\r\n    }\r\n    function recordHistory() {\r\n        if (!focus)\r\n            return;\r\n        const html = editor.innerHTML;\r\n        const pos = save();\r\n        const lastRecord = history[at];\r\n        if (lastRecord) {\r\n            if (lastRecord.html === html\r\n                && lastRecord.pos.start === pos.start\r\n                && lastRecord.pos.end === pos.end)\r\n                return;\r\n        }\r\n        at++;\r\n        history[at] = { html, pos };\r\n        history.splice(at + 1);\r\n        const maxHistory = 300;\r\n        if (at > maxHistory) {\r\n            at = maxHistory;\r\n            history.splice(0, 1);\r\n        }\r\n    }\r\n    function handlePaste(event) {\r\n        preventDefault(event);\r\n        const text = (event.originalEvent || event).clipboardData.getData(\"text/plain\");\r\n        const pos = save();\r\n        insert(text);\r\n        highlight(editor);\r\n        restore({ start: pos.end + text.length, end: pos.end + text.length });\r\n    }\r\n    function visit(editor, visitor) {\r\n        const queue = [];\r\n        if (editor.firstChild)\r\n            queue.push(editor.firstChild);\r\n        let el = queue.pop();\r\n        while (el) {\r\n            if (visitor(el) === \"stop\")\r\n                break;\r\n            if (el.nextSibling)\r\n                queue.push(el.nextSibling);\r\n            if (el.firstChild)\r\n                queue.push(el.firstChild);\r\n            el = queue.pop();\r\n        }\r\n    }\r\n    function isCtrl(event) {\r\n        return event.metaKey || event.ctrlKey;\r\n    }\r\n    function isUndo(event) {\r\n        return isCtrl(event) && !event.shiftKey && event.code === \"KeyZ\";\r\n    }\r\n    function isRedo(event) {\r\n        return isCtrl(event) && event.shiftKey && event.code === \"KeyZ\";\r\n    }\r\n    function insert(text) {\r\n        text = text\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&#039;\");\r\n        document.execCommand(\"insertHTML\", false, text);\r\n    }\r\n    function debounce(cb, wait) {\r\n        let timeout = 0;\r\n        return (...args) => {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(() => cb(...args), wait);\r\n        };\r\n    }\r\n    function findPadding(text) {\r\n        // Find beginning of previous line.\r\n        let i = text.length - 1;\r\n        while (i >= 0 && text[i] !== \"\\n\")\r\n            i--;\r\n        i++;\r\n        // Find padding of the line.\r\n        let j = i;\r\n        while (j < text.length && /[ \\t]/.test(text[j]))\r\n            j++;\r\n        return [text.substring(i, j) || \"\", i, j];\r\n    }\r\n    function toString() {\r\n        return editor.textContent || \"\";\r\n    }\r\n    function preventDefault(event) {\r\n        event.preventDefault();\r\n    }\r\n    return {\r\n        updateOptions(options) {\r\n            options = Object.assign(Object.assign({}, options), options);\r\n        },\r\n        updateCode(code) {\r\n            editor.textContent = code;\r\n            highlight(editor);\r\n        },\r\n        onUpdate(cb) {\r\n            callback = cb;\r\n        },\r\n        toString,\r\n        destroy() {\r\n            for (let [type, fn] of listeners) {\r\n                editor.removeEventListener(type, fn);\r\n            }\r\n        },\r\n    };\r\n}\r\n","/**\r\n * Prism: Lightweight, robust, elegant syntax highlighting\r\n * MIT license http://www.opensource.org/licenses/mit-license.php/\r\n * @author Lea Verou http://lea.verou.me\r\n */\r\n\r\n// Private helper vars\r\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\r\nvar uniqueId = 0;\r\n\r\nvar _\r\nexport default _ = {\r\n\tcodeTag: 'code',\r\n\r\n\tutil: {\r\n\t\tencode: function encode(tokens) {\r\n\t\t\tif (tokens instanceof Token) {\r\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\r\n\t\t\t} else if (Array.isArray(tokens)) {\r\n\t\t\t\treturn tokens.map(encode);\r\n\t\t\t} else {\r\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttype: function (o) {\r\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\r\n\t\t},\r\n\r\n\t\tobjId: function (obj) {\r\n\t\t\tif (!obj['__id']) {\r\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\r\n\t\t\t}\r\n\t\t\treturn obj['__id'];\r\n\t\t},\r\n\r\n\t\t// Deep clone a language definition (e.g. to extend it)\r\n\t\tclone: function deepClone(o, visited) {\r\n\t\t\tvar clone, id, type = _.util.type(o);\r\n\t\t\tvisited = visited || {};\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'Object':\r\n\t\t\t\t\tid = _.util.objId(o);\r\n\t\t\t\t\tif (visited[id]) {\r\n\t\t\t\t\t\treturn visited[id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclone = {};\r\n\t\t\t\t\tvisited[id] = clone;\r\n\r\n\t\t\t\t\tfor (var key in o) {\r\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn clone;\r\n\r\n\t\t\t\tcase 'Array':\r\n\t\t\t\t\tid = _.util.objId(o);\r\n\t\t\t\t\tif (visited[id]) {\r\n\t\t\t\t\t\treturn visited[id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclone = [];\r\n\t\t\t\t\tvisited[id] = clone;\r\n\r\n\t\t\t\t\to.forEach(function (v, i) {\r\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn clone;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn o;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\r\n\t\t *\r\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\r\n\t\t *\r\n\t\t * @param {Element} element\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tgetLanguage: function (element) {\r\n\t\t\twhile (element && !lang.test(element.className)) {\r\n\t\t\t\telement = element.parentElement;\r\n\t\t\t}\r\n\t\t\tif (element) {\r\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\r\n\t\t\t}\r\n\t\t\treturn 'none';\r\n\t\t}\r\n\t},\r\n\r\n\tlanguages: {\r\n\t\textend: function (id, redef) {\r\n\t\t\tvar lang = _.util.clone(_.languages[id]);\r\n\r\n\t\t\tfor (var key in redef) {\r\n\t\t\t\tlang[key] = redef[key];\r\n\t\t\t}\r\n\r\n\t\t\treturn lang;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Insert a token before another token in a language literal\r\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\r\n\t\t * we cannot just provide an object, we need an object and a key.\r\n\t\t * @param inside The key (or language id) of the parent\r\n\t\t * @param before The key to insert before.\r\n\t\t * @param insert Object with the key/value pairs to insert\r\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\r\n\t\t */\r\n\t\tinsertBefore: function (inside, before, insert, root) {\r\n\t\t\troot = root || _.languages;\r\n\t\t\tvar grammar = root[inside];\r\n\t\t\tvar ret = {};\r\n\r\n\t\t\tfor (var token in grammar) {\r\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\r\n\r\n\t\t\t\t\tif (token == before) {\r\n\t\t\t\t\t\tfor (var newToken in insert) {\r\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\r\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\r\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\r\n\t\t\t\t\t\tret[token] = grammar[token];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar old = root[inside];\r\n\t\t\troot[inside] = ret;\r\n\r\n\t\t\t// Update references in other language definitions\r\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\r\n\t\t\t\tif (value === old && key != inside) {\r\n\t\t\t\t\tthis[key] = ret;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t// Traverse a language definition with Depth First Search\r\n\t\tDFS: function DFS(o, callback, type, visited) {\r\n\t\t\tvisited = visited || {};\r\n\r\n\t\t\tvar objId = _.util.objId;\r\n\r\n\t\t\tfor (var i in o) {\r\n\t\t\t\tif (o.hasOwnProperty(i)) {\r\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\r\n\r\n\t\t\t\t\tvar property = o[i],\r\n\t\t\t\t\t    propertyType = _.util.type(property);\r\n\r\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\r\n\t\t\t\t\t\tvisited[objId(property)] = true;\r\n\t\t\t\t\t\tDFS(property, callback, null, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\r\n\t\t\t\t\t\tvisited[objId(property)] = true;\r\n\t\t\t\t\t\tDFS(property, callback, i, visited);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tplugins: {},\r\n\r\n\thighlightElement: function(element, callback) {\r\n\t\t// Find language\r\n\t\tvar language = _.util.getLanguage(element);\r\n\t\tvar grammar = _.languages[language];\r\n\r\n\t\t// Set language on the element, if not present\r\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\r\n\t\t// Set language on the parent, for styling\r\n\t\tvar parent = element.parentNode;\r\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\r\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\r\n\t\t}\r\n\r\n\t\tvar code = element.textContent;\r\n\r\n\t\tvar env = {\r\n\t\t\telement: element,\r\n\t\t\tlanguage: language,\r\n\t\t\tgrammar: grammar,\r\n\t\t\tcode: code\r\n\t\t};\r\n\r\n\t\tfunction insertHighlightedCode(highlightedCode) {\r\n\t\t\tenv.highlightedCode = highlightedCode;\r\n\r\n\t\t\t_.hooks.run('before-insert', env);\r\n\r\n\t\t\tenv.element.innerHTML = env.highlightedCode;\r\n\r\n\t\t\t_.hooks.run('after-highlight', env);\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t\tcallback && callback.call(env.element);\r\n\t\t}\r\n\r\n\t\t_.hooks.run('before-sanity-check', env);\r\n\r\n\t\tif (!env.code) {\r\n\t\t\t_.hooks.run('complete', env);\r\n\t\t\tcallback && callback.call(env.element);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t_.hooks.run('before-highlight', env);\r\n\r\n\t\tif (!env.grammar) {\r\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\r\n\t},\r\n\r\n\thighlight: function (text, grammar, language) {\r\n\t\tvar env = {\r\n\t\t\tcode: text,\r\n\t\t\tgrammar: grammar,\r\n\t\t\tlanguage: language\r\n\t\t};\r\n\t\t_.hooks.run('before-tokenize', env);\r\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\r\n\t\t_.hooks.run('after-tokenize', env);\r\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\r\n\t},\r\n\r\n\ttokenize: function(text, grammar) {\r\n\t\tvar rest = grammar.rest;\r\n\t\tif (rest) {\r\n\t\t\tfor (var token in rest) {\r\n\t\t\t\tgrammar[token] = rest[token];\r\n\t\t\t}\r\n\r\n\t\t\tdelete grammar.rest;\r\n\t\t}\r\n\r\n\t\tvar tokenList = new LinkedList();\r\n\t\taddAfter(tokenList, tokenList.head, text);\r\n\r\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\r\n\r\n\t\treturn toArray(tokenList);\r\n\t},\r\n\r\n\thooks: {\r\n\t\tall: {},\r\n\r\n\t\tadd: function (name, callback) {\r\n\t\t\tvar hooks = _.hooks.all;\r\n\r\n\t\t\thooks[name] = hooks[name] || [];\r\n\r\n\t\t\thooks[name].push(callback);\r\n\t\t},\r\n\r\n\t\trun: function (name, env) {\r\n\t\t\tvar callbacks = _.hooks.all[name];\r\n\r\n\t\t\tif (!callbacks || !callbacks.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\r\n\t\t\t\tcallback(env);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tToken: Token\r\n};\r\n\r\nfunction Token(type, content, alias, matchedStr, greedy) {\r\n\tthis.type = type;\r\n\tthis.content = content;\r\n\tthis.alias = alias;\r\n\t// Copy of the full string this token was created from\r\n\tthis.length = (matchedStr || '').length|0;\r\n\tthis.greedy = !!greedy;\r\n}\r\n\r\nToken.stringify = function stringify(o, language) {\r\n\tif (typeof o == 'string') {\r\n\t\treturn o;\r\n\t}\r\n\tif (Array.isArray(o)) {\r\n\t\tvar s = '';\r\n\t\to.forEach(function (e) {\r\n\t\t\ts += stringify(e, language);\r\n\t\t});\r\n\t\treturn s;\r\n\t}\r\n\r\n\tvar env = {\r\n\t\ttype: o.type,\r\n\t\tcontent: stringify(o.content, language),\r\n\t\ttag: 'span',\r\n\t\tclasses: ['token', o.type],\r\n\t\tattributes: {},\r\n\t\tlanguage: language\r\n\t};\r\n\r\n\tvar aliases = o.alias;\r\n\tif (aliases) {\r\n\t\tif (Array.isArray(aliases)) {\r\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\r\n\t\t} else {\r\n\t\t\tenv.classes.push(aliases);\r\n\t\t}\r\n\t}\r\n\r\n\t_.hooks.run('wrap', env);\r\n\r\n\tvar attributes = '';\r\n\tfor (var name in env.attributes) {\r\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\r\n\t}\r\n\r\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\r\n};\r\n\r\n/**\r\n * @param {string} text\r\n * @param {LinkedList<string | Token>} tokenList\r\n * @param {any} grammar\r\n * @param {LinkedListNode<string | Token>} startNode\r\n * @param {number} startPos\r\n * @param {boolean} [oneshot=false]\r\n * @param {string} [target]\r\n */\r\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, oneshot, target) {\r\n\tfor (var token in grammar) {\r\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tvar patterns = grammar[token];\r\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\r\n\r\n\t\tfor (var j = 0; j < patterns.length; ++j) {\r\n\t\t\tif (target && target == token + ',' + j) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar pattern = patterns[j],\r\n\t\t\t\tinside = pattern.inside,\r\n\t\t\t\tlookbehind = !!pattern.lookbehind,\r\n\t\t\t\tgreedy = !!pattern.greedy,\r\n\t\t\t\tlookbehindLength = 0,\r\n\t\t\t\talias = pattern.alias;\r\n\r\n\t\t\tif (greedy && !pattern.pattern.global) {\r\n\t\t\t\t// Without the global flag, lastIndex won't work\r\n\t\t\t\tvar flags = pattern.pattern.toString().match(/[imsuy]*$/)[0];\r\n\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + 'g');\r\n\t\t\t}\r\n\r\n\t\t\tpattern = pattern.pattern || pattern;\r\n\r\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\r\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\r\n\t\t\t\tcurrentNode !== tokenList.tail;\r\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\r\n\t\t\t) {\r\n\r\n\t\t\t\tvar str = currentNode.value;\r\n\r\n\t\t\t\tif (tokenList.length > text.length) {\r\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (str instanceof Token) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\r\n\r\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\r\n\t\t\t\t\tpattern.lastIndex = pos;\r\n\t\t\t\t\tvar match = pattern.exec(text);\r\n\t\t\t\t\tif (!match) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\r\n\t\t\t\t\tvar to = match.index + match[0].length;\r\n\t\t\t\t\tvar p = pos;\r\n\r\n\t\t\t\t\t// find the node that contains the match\r\n\t\t\t\t\tp += currentNode.value.length;\r\n\t\t\t\t\twhile (from >= p) {\r\n\t\t\t\t\t\tcurrentNode = currentNode.next;\r\n\t\t\t\t\t\tp += currentNode.value.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// adjust pos (and p)\r\n\t\t\t\t\tp -= currentNode.value.length;\r\n\t\t\t\t\tpos = p;\r\n\r\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\r\n\t\t\t\t\tif (currentNode.value instanceof Token) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find the last node which is affected by this match\r\n\t\t\t\t\tfor (\r\n\t\t\t\t\t\tvar k = currentNode;\r\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || (typeof k.value === 'string' && !k.prev.value.greedy));\r\n\t\t\t\t\t\tk = k.next\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tremoveCount++;\r\n\t\t\t\t\t\tp += k.value.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tremoveCount--;\r\n\r\n\t\t\t\t\t// replace with the new match\r\n\t\t\t\t\tstr = text.slice(pos, p);\r\n\t\t\t\t\tmatch.index -= pos;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpattern.lastIndex = 0;\r\n\r\n\t\t\t\t\tvar match = pattern.exec(str);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!match) {\r\n\t\t\t\t\tif (oneshot) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lookbehind) {\r\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar from = match.index + lookbehindLength,\r\n\t\t\t\t\tmatch = match[0].slice(lookbehindLength),\r\n\t\t\t\t\tto = from + match.length,\r\n\t\t\t\t\tbefore = str.slice(0, from),\r\n\t\t\t\t\tafter = str.slice(to);\r\n\r\n\t\t\t\tvar removeFrom = currentNode.prev;\r\n\r\n\t\t\t\tif (before) {\r\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\r\n\t\t\t\t\tpos += before.length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\r\n\r\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias, match, greedy);\r\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\r\n\r\n\t\t\t\tif (after) {\r\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (removeCount > 1)\r\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, true, token + ',' + j);\r\n\r\n\t\t\t\tif (oneshot)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef LinkedListNode\r\n * @property {T} value\r\n * @property {LinkedListNode<T> | null} prev The previous node.\r\n * @property {LinkedListNode<T> | null} next The next node.\r\n * @template T\r\n */\r\n\r\n/**\r\n * @template T\r\n */\r\nfunction LinkedList() {\r\n\t/** @type {LinkedListNode<T>} */\r\n\tvar head = { value: null, prev: null, next: null };\r\n\t/** @type {LinkedListNode<T>} */\r\n\tvar tail = { value: null, prev: head, next: null };\r\n\thead.next = tail;\r\n\r\n\t/** @type {LinkedListNode<T>} */\r\n\tthis.head = head;\r\n\t/** @type {LinkedListNode<T>} */\r\n\tthis.tail = tail;\r\n\tthis.length = 0;\r\n}\r\n\r\n/**\r\n * Adds a new node with the given value to the list.\r\n * @param {LinkedList<T>} list\r\n * @param {LinkedListNode<T>} node\r\n * @param {T} value\r\n * @returns {LinkedListNode<T>} The added node.\r\n * @template T\r\n */\r\nfunction addAfter(list, node, value) {\r\n\t// assumes that node != list.tail && values.length >= 0\r\n\tvar next = node.next;\r\n\r\n\tvar newNode = { value: value, prev: node, next: next };\r\n\tnode.next = newNode;\r\n\tnext.prev = newNode;\r\n\tlist.length++;\r\n\r\n\treturn newNode;\r\n}\r\n/**\r\n * Removes `count` nodes after the given node. The given node will not be removed.\r\n * @param {LinkedList<T>} list\r\n * @param {LinkedListNode<T>} node\r\n * @param {number} count\r\n * @template T\r\n */\r\nfunction removeRange(list, node, count) {\r\n\tvar next = node.next;\r\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\r\n\t\tnext = next.next;\r\n\t}\r\n\tnode.next = next;\r\n\tnext.prev = node;\r\n\tlist.length -= i;\r\n}\r\n/**\r\n * @param {LinkedList<T>} list\r\n * @returns {T[]}\r\n * @template T\r\n */\r\nfunction toArray(list) {\r\n\tvar array = [];\r\n\tvar node = list.head.next;\r\n\twhile (node !== list.tail) {\r\n\t\tarray.push(node.value);\r\n\t\tnode = node.next;\r\n\t}\r\n\treturn array;\r\n}\r\n","import Prism from './prism-core'\r\n\r\n/**\r\n * Plugin name which is used as a class name for <pre> which is activating the plugin\r\n * @type {String}\r\n */\r\nvar PLUGIN_NAME = 'line-numbers';\r\n\r\n/**\r\n * Regular expression used for determining line breaks\r\n * @type {RegExp}\r\n */\r\nvar NEW_LINE_EXP = /\\n(?!$)/g;\r\n\r\n/**\r\n * Resizes line numbers spans according to height of line of code\r\n * @param {Element} element <pre> element\r\n */\r\nvar _resizeElement = function (element) {\r\n\tvar codeStyles = getStyles(element);\r\n\tvar whiteSpace = codeStyles['white-space'];\r\n\r\n\tif (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {\r\n\t\tvar codeElement = element.querySelector(Prism.codeTag);\r\n\t\tvar lineNumbersWrapper = element.querySelector('.line-numbers-rows');\r\n\t\tvar lineNumberSizer = element.querySelector('.line-numbers-sizer');\r\n\t\tvar codeLines = codeElement.textContent.split(NEW_LINE_EXP);\r\n\r\n\t\tif (!lineNumberSizer) {\r\n\t\t\tlineNumberSizer = document.createElement('span');\r\n\t\t\tlineNumberSizer.className = 'line-numbers-sizer';\r\n\r\n\t\t\tcodeElement.appendChild(lineNumberSizer);\r\n\t\t}\r\n\r\n\t\tlineNumberSizer.style.display = 'block';\r\n\r\n\t\tcodeLines.forEach(function (line, lineNumber) {\r\n\t\t\tlineNumberSizer.textContent = line || '\\n';\r\n\t\t\tvar lineSize = lineNumberSizer.getBoundingClientRect().height;\r\n\t\t\tlineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';\r\n\t\t});\r\n\r\n\t\tlineNumberSizer.textContent = '';\r\n\t\tlineNumberSizer.style.display = 'none';\r\n\t}\r\n};\r\n\r\n/**\r\n * Returns style declarations for the element\r\n * @param {Element} element\r\n */\r\nvar getStyles = function (element) {\r\n\tif (!element) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);\r\n};\r\n\r\nPrism.hooks.add('complete', function (env) {\r\n\tif (!env.code) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar code = env.element;\r\n\tvar pre = code.parentNode;\r\n\r\n\t// works only for <code> wrapped inside <pre> (not inline)\r\n\tif (!pre || !/pre/i.test(pre.nodeName)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Abort if line numbers already exists\r\n\tif (code.querySelector('.line-numbers-rows')) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar addLineNumbers = false;\r\n\tvar lineNumbersRegex = /(?:^|\\s)line-numbers(?:\\s|$)/;\r\n\r\n\tfor (var element = code; element; element = element.parentNode) {\r\n\t\tif (lineNumbersRegex.test(element.className)) {\r\n\t\t\taddLineNumbers = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// only add line numbers if <code> or one of its ancestors has the `line-numbers` class\r\n\tif (!addLineNumbers) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Remove the class 'line-numbers' from the <code>\r\n\tcode.className = code.className.replace(lineNumbersRegex, ' ');\r\n\t// Add the class 'line-numbers' to the <pre>\r\n\tif (!lineNumbersRegex.test(pre.className)) {\r\n\t\tpre.className += ' line-numbers';\r\n\t}\r\n\r\n\tvar match = env.code.match(NEW_LINE_EXP);\r\n\tvar linesNum = match ? match.length + 1 : 1;\r\n\tvar lineNumbersWrapper;\r\n\r\n\tvar lines = new Array(linesNum + 1).join('<span></span>');\r\n\r\n\tlineNumbersWrapper = document.createElement('span');\r\n\tlineNumbersWrapper.setAttribute('aria-hidden', 'true');\r\n\tlineNumbersWrapper.className = 'line-numbers-rows';\r\n\tlineNumbersWrapper.innerHTML = lines;\r\n\r\n\tif (pre.hasAttribute('data-start')) {\r\n\t\tpre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\r\n\t}\r\n\r\n\tenv.element.appendChild(lineNumbersWrapper);\r\n\r\n\t_resizeElement(pre);\r\n\r\n\tPrism.hooks.run('line-numbers', env);\r\n});\r\n\r\nPrism.hooks.add('line-numbers', function (env) {\r\n\tenv.plugins = env.plugins || {};\r\n\tenv.plugins.lineNumbers = true;\r\n});\r\n\r\n/**\r\n * Global exports\r\n */\r\nPrism.plugins.lineNumbers = {\r\n\t/**\r\n\t * Update line numbers after resizing the text area by mouse\r\n\t * @param {Element} element pre element\r\n\t * @return {undefined}\r\n\t */\r\n\tupdateLineNumbers: function(element) {\r\n\t\t_resizeElement(element);\r\n\t},\r\n\t/**\r\n\t * Get node for provided line number\r\n\t * @param {Element} element pre element\r\n\t * @param {Number} number line number\r\n\t * @return {Element|undefined}\r\n\t */\r\n\tgetLine: function (element, number) {\r\n\t\tif (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar lineNumberRows = element.querySelector('.line-numbers-rows');\r\n\t\tvar lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;\r\n\t\tvar lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);\r\n\r\n\t\tif (number < lineNumberStart) {\r\n\t\t\tnumber = lineNumberStart;\r\n\t\t}\r\n\t\tif (number > lineNumberEnd) {\r\n\t\t\tnumber = lineNumberEnd;\r\n\t\t}\r\n\r\n\t\tvar lineIndex = number - lineNumberStart;\r\n\r\n\t\treturn lineNumberRows.children[lineIndex];\r\n\t}\r\n};\r\n","import Prism from './prism-core'\r\n\r\nvar MATCH_ALL_CLASS = /(?:^|\\s)match-braces(?:\\s|$)/;\r\n\r\nvar BRACE_HOVER_CLASS = /(?:^|\\s)brace-hover(?:\\s|$)/;\r\nvar BRACE_SELECTED_CLASS = /(?:^|\\s)brace-selected(?:\\s|$)/;\r\n\r\nvar NO_BRACE_HOVER_CLASS = /(?:^|\\s)no-brace-hover(?:\\s|$)/;\r\nvar NO_BRACE_SELECT_CLASS = /(?:^|\\s)no-brace-select(?:\\s|$)/;\r\n\r\nvar PARTNER = {\r\n\t'(': ')',\r\n\t'[': ']',\r\n\t'{': '}',\r\n};\r\n\r\nvar NAMES = {\r\n\t'(': 'brace-round',\r\n\t'[': 'brace-square',\r\n\t'{': 'brace-curly',\r\n};\r\n\r\nvar LEVEL_WARP = 12;\r\n\r\nvar pairIdCounter = 0;\r\n\r\nvar BRACE_ID_PATTERN = /^(pair-\\d+-)(open|close)$/;\r\n\r\n/**\r\n * Returns the brace partner given one brace of a brace pair.\r\n *\r\n * @param {HTMLElement} brace\r\n * @returns {HTMLElement}\r\n */\r\nfunction getPartnerBrace(brace) {\r\n\tvar match = BRACE_ID_PATTERN.exec(brace.id);\r\n\treturn brace.parentElement.querySelector('#' + match[1] + (match[2] == 'open' ? 'close' : 'open'));\r\n}\r\n\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction hoverBrace() {\r\n\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\r\n\t\tif (NO_BRACE_HOVER_CLASS.test(parent.className)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = (ele.className.replace(BRACE_HOVER_CLASS, ' ') + ' brace-hover').replace(/\\s+/g, ' ');\r\n\t});\r\n}\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction leaveBrace() {\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = ele.className.replace(BRACE_HOVER_CLASS, ' ');\r\n\t});\r\n}\r\n/**\r\n * @this {HTMLElement}\r\n */\r\nfunction clickBrace() {\r\n\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\r\n\t\tif (NO_BRACE_SELECT_CLASS.test(parent.className)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t[this, getPartnerBrace(this)].forEach(function (ele) {\r\n\t\tele.className = (ele.className.replace(BRACE_SELECTED_CLASS, ' ') + ' brace-selected').replace(/\\s+/g, ' ');\r\n\t});\r\n}\r\n\r\nPrism.hooks.add('complete', function (env) {\r\n\r\n\t/** @type {HTMLElement} */\r\n\tvar code = env.element;\r\n\tvar pre = code.parentElement;\r\n\r\n\tif (!pre || pre.tagName != 'PRE') {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// find the braces to match\r\n\t/** @type {string[]} */\r\n\tvar toMatch = [];\r\n\tfor (var ele = code; ele; ele = ele.parentElement) {\r\n\t\tif (MATCH_ALL_CLASS.test(ele.className)) {\r\n\t\t\ttoMatch.push('(', '[', '{');\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif (toMatch.length == 0) {\r\n\t\t// nothing to match\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!pre.__listenerAdded) {\r\n\t\t// code blocks might be highlighted more than once\r\n\t\tpre.addEventListener('mousedown', function removeBraceSelected() {\r\n\t\t\t// the code element might have been replaced\r\n\t\t\tvar code = pre.querySelector(Prism.codeTag);\r\n\t\t\tArray.prototype.slice.call(code.querySelectorAll('.brace-selected')).forEach(function (element) {\r\n\t\t\t\telement.className = element.className.replace(BRACE_SELECTED_CLASS, ' ');\r\n\t\t\t});\r\n\t\t});\r\n\t\tObject.defineProperty(pre, '__listenerAdded', { value: true });\r\n\t}\r\n\r\n\t/** @type {HTMLSpanElement[]} */\r\n\tvar punctuation = Array.prototype.slice.call(code.querySelectorAll('span.token.punctuation'));\r\n\r\n\t/** @type {{ index: number, open: boolean, element: HTMLElement }[]} */\r\n\tvar allBraces = [];\r\n\r\n\ttoMatch.forEach(function (open) {\r\n\t\tvar close = PARTNER[open];\r\n\t\tvar name = NAMES[open];\r\n\r\n\t\t/** @type {[number, number][]} */\r\n\t\tvar pairs = [];\r\n\t\t/** @type {number[]} */\r\n\t\tvar openStack = [];\r\n\r\n\t\tfor (var i = 0; i < punctuation.length; i++) {\r\n\t\t\tvar element = punctuation[i];\r\n\t\t\tif (element.childElementCount == 0) {\r\n\t\t\t\tvar text = element.textContent;\r\n\t\t\t\tif (text === open) {\r\n\t\t\t\t\tallBraces.push({ index: i, open: true, element: element });\r\n\t\t\t\t\telement.className += ' ' + name;\r\n\t\t\t\t\telement.className += ' brace-open';\r\n\t\t\t\t\topenStack.push(i);\r\n\t\t\t\t} else if (text === close) {\r\n\t\t\t\t\tallBraces.push({ index: i, open: false, element: element });\r\n\t\t\t\t\telement.className += ' ' + name;\r\n\t\t\t\t\telement.className += ' brace-close';\r\n\t\t\t\t\tif (openStack.length) {\r\n\t\t\t\t\t\tpairs.push([i, openStack.pop()]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpairs.forEach(function (pair) {\r\n\t\t\tvar pairId = 'pair-' + (pairIdCounter++) + '-';\r\n\r\n\t\t\tvar openEle = punctuation[pair[0]];\r\n\t\t\tvar closeEle = punctuation[pair[1]];\r\n\r\n\t\t\topenEle.id = pairId + 'open';\r\n\t\t\tcloseEle.id = pairId + 'close';\r\n\r\n\t\t\t[openEle, closeEle].forEach(function (ele) {\r\n\t\t\t\tele.addEventListener('mouseenter', hoverBrace);\r\n\t\t\t\tele.addEventListener('mouseleave', leaveBrace);\r\n\t\t\t\tele.addEventListener('click', clickBrace);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tvar level = 0;\r\n\tallBraces.sort(function (a, b) { return a.index - b.index; });\r\n\tallBraces.forEach(function (brace) {\r\n\t\tif (brace.open) {\r\n\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\r\n\t\t\tlevel++;\r\n\t\t} else {\r\n\t\t\tlevel = Math.max(0, level - 1);\r\n\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\r\n\t\t}\r\n\t});\r\n\r\n});\r\n","import Prism from './prism-core'\r\n\r\nPrism.languages.graphviz = {\r\n  comment: [{\r\n    pattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\r\n    greedy: true\r\n  }, {\r\n    pattern: /(^|[^\\\\:])\\/\\/.*/,\r\n    lookbehind: !0,\r\n    greedy: !0\r\n  }],\r\n  string: {\r\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\r\n    greedy: !0\r\n  },\r\n  'class-name': {\r\n    pattern: /(\\b(?:digraph|graph)\\s+)\\w+/,\r\n    lookbehind: true\r\n  },\r\n  keyword: /\\b(?:digraph|graph|node|edge)\\b/,\r\n  property: /\\b(?:Damping|URL|area|arrowhead|arrowsize|arrowtail|aspect|bb|bgcolor|center|charset|clusterrank|color|colorscheme|comment|compound|concentrate|constraint|decorate|defaultdist|dim|dimen|dir|diredgeconstraints|distortion|dpi|edgeURL|edgehref|edgetarget|edgetooltip|epsilon|esep|fillcolor|fixedsize|fontcolor|fontname|fontnames|fontpath|fontsize|group|headURL|headclip|headhref|headlabel|headport|headtarget|headtooltip|height|href|id|image|imagepath|imagescale|label|labelURL|labelangle|labeldistance|labelfloat|labelfontcolor|labelfontname|labelfontsize|labelhref|labeljust|labelloc|labeltarget|labeltooltip|landscape|layer|layerlistsep|layers|layerselect|layersep|layout|len|levels|levelsgap|lhead|lheight|lp|ltail|lwidth|margin|maxiter|mclimit|mindist|minlen|mode|model|mosek|nodesep|nojustify|normalize|nslimit|nslimit1|ordering|orientation|outputorder|overlap|overlap_scaling|pack|packmode|pad|page|pagedir|pencolor|penwidth|peripheries|pin|pos|quadtree|quantum|rank|rankdir|ranksep|ratio|rects|regular|remincross|repulsiveforce|resolution|root|rotate|rotation|samehead|sametail|samplepoints|scale|searchsize|sep|shape|shapefile|showboxes|sides|size|skew|smoothing|sortv|splines|start|style|stylesheet|tail_lp|tailURL|tailclip|tailhref|taillabel|tailport|tailtarget|tailtooltip|target|tooltip|truecolor|vertices|viewport|voro_margin|weight|width|xlabel)\\b/,\r\n  constant: /\\b(?:dot|neato|fdp|sfdp|twopi|circo|osage|patchwork|LR|RL|TB|BT|box|polygon|ellipse|oval|circle|point|egg|triangle|plaintext|plain|diamond|trapezium|parallelogram|house|pentagon|hexagon|septagon|octagon|doublecircle|doubleoctagon|tripleoctagon|invtriangle|invtrapezium|invhouse|Mdiamond|Msquare|Mcircle|rect|rectangle|square|star|none|underline|cylinder|note|tab|folder|box3d|component|promoter|cds|terminator|utr|primersite|restrictionsite|fivepoverhang|threepoverhang|noverhang|assembly|signature|insulator|ribosite|rnastab|proteasesite|proteinstab|rpromoter|rarrow|larrow|lpromoter|solid|dashed|dotted|bold|rounded|diagonals|filled|striped|wedged)\\b/,\r\n  boolean: /\\b(?:true|yes|false|no)\\b/,\r\n  number: /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\r\n  operator: /->|--|=/,\r\n  punctuation: /[{}[\\];(),.:]/\r\n}\r\n"],"names":["renderer","rendererUrl","template","pendingAllLineNumbersUpdate","delayWorkerLoading","window","graphvizWebComponent","ensureConfiguration","getRenderer","Worker","setTimeout","graphKey","Symbol","scaleKey","render_id","Number","MIN_SAFE_INTEGER","requestRendering","element","script","receiveResult","addEventListener","postMessage","graph","closeRendering","removeEventListener","triggerEvent","type","detail","dispatchEvent","CustomEvent","applyScale","svg","shadowRoot","children","scale","style","transform","transformOrigin","showImage","innerHTML","showError","error","console","message","updateGraph","Promise","resolve","assigned_render_id","undefined","data","trim","tryUpdateGraph","reject","GraphvizGraphElement","HTMLElement","constructor","attachShadow","mode","graphCompleted","value","setAttribute","attributeChangedCallback","name","oldValue","newValue","catch","tryGraph","promise","observedAttributes","CodeJar","editor","highlight","opt","callback","prev","options","Object","assign","tab","ownerRoot","getSelection","ownerDocument","Error","listeners","history","at","focus","isFirefox","navigator","userAgent","toLowerCase","indexOf","outline","overflowWrap","overflowY","resize","whiteSpace","debounceHighlight","debounce","pos","save","restore","recording","shouldRecord","event","isUndo","isRedo","key","startsWith","debounceRecordHistory","recordHistory","on","fn","push","s","start","end","dir","visit","el","anchorNode","focusNode","anchorOffset","focusOffset","nodeType","Node","TEXT_NODE","nodeValue","length","startNode","startOffset","endNode","endOffset","current","len","setBaseAndExtent","beforeCursor","r0","getRangeAt","r","document","createRange","selectNodeContents","setEnd","startContainer","toString","afterCursor","setStart","endContainer","html","lastRecord","splice","visitor","queue","firstChild","pop","nextSibling","isCtrl","metaKey","ctrlKey","shiftKey","code","insert","text","replace","execCommand","cb","wait","timeout","args","clearTimeout","findPadding","i","j","test","substring","textContent","preventDefault","defaultPrevented","handleNewLine","before","after","padding","newLinePadding","handleTabCharacters","Math","min","handleJumpToBeginningOfLine","endsWith","handleSelfClosingCharacters","open","close","codeAfter","includes","substr","handleUndoRedo","record","isComposing","_event","handlePaste","originalEvent","clipboardData","getData","updateOptions","updateCode","onUpdate","destroy","customElements","define","_","lang","uniqueId","Prism","codeTag","util","encode","tokens","Token","content","alias","Array","isArray","map","o","prototype","call","slice","objId","obj","defineProperty","clone","deepClone","visited","id","hasOwnProperty","forEach","v","getLanguage","className","parentElement","match","languages","extend","redef","insertBefore","inside","root","grammar","ret","token","newToken","old","DFS","property","propertyType","plugins","highlightElement","language","parent","parentNode","nodeName","env","insertHighlightedCode","highlightedCode","hooks","run","tokenize","stringify","rest","tokenList","LinkedList","addAfter","head","matchGrammar","toArray","all","add","callbacks","matchedStr","greedy","startPos","oneshot","target","patterns","pattern","lookbehind","lookbehindLength","global","flags","RegExp","source","currentNode","next","tail","str","removeCount","lastIndex","exec","from","index","to","p","k","removeFrom","removeRange","wrapped","list","node","newNode","count","array","e","tag","classes","attributes","aliases","apply","join","PLUGIN_NAME","NEW_LINE_EXP","_resizeElement","codeStyles","getStyles","codeElement","querySelector","lineNumbersWrapper","lineNumberSizer","codeLines","split","createElement","appendChild","display","line","lineNumber","lineSize","getBoundingClientRect","height","getComputedStyle","currentStyle","pre","addLineNumbers","lineNumbersRegex","lines","linesNum","hasAttribute","counterReset","parseInt","getAttribute","lineNumbers","updateLineNumbers","getLine","number","tagName","classList","contains","lineNumberRows","lineNumberStart","lineNumberEnd","lineIndex","MATCH_ALL_CLASS","BRACE_HOVER_CLASS","BRACE_SELECTED_CLASS","NO_BRACE_HOVER_CLASS","NO_BRACE_SELECT_CLASS","PARTNER","NAMES","LEVEL_WARP","pairIdCounter","BRACE_ID_PATTERN","getPartnerBrace","brace","hoverBrace","ele","leaveBrace","clickBrace","toMatch","__listenerAdded","querySelectorAll","punctuation","allBraces","pairs","openStack","childElementCount","pair","pairId","openEle","closeEle","level","sort","a","b","max","graphviz","comment","string","keyword","constant","boolean","operator","features","connectedKey","valueKey","tabKey","classKey","jarKey","widthKey","heightKey","mousedownKey","mouseupKey","getTemplate","lightTheme","lineNumbersStyle","matchBracesStyle","mainStyle","getFeatureClasses","filter","feature","hasChangedFeatureClass","oldClasses","newClasses","some","normalizeLineBreaks","createEditor","getElementById","featureClasses","jar","updateEditor","newCode","destroyEditor","rebuildEditor","configureEditor","GraphvizScriptEditorElement","cloneNode","connectedCallback","registerEvents","disconnectedCallback","unregisterEvents","rememberSize","clientWidth","clientHeight","newWidth","newHeight","mousedown","mouseup","updateAllLineNumbers","editors","scheduleUpdateAllLineNumbers"],"mappings":"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"}